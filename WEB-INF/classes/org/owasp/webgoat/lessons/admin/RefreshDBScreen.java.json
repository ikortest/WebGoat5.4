{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"admin"},"loc":{"start":{"line":2},"end":{"line":2}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"Connection"},"loc":{"start":{"line":4},"end":{"line":4}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"*"},"loc":{"start":{"line":5},"end":{"line":5}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":6},"end":{"line":6}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":6},"end":{"line":6}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":6},"end":{"line":6}}},"property":{"type":"Identifier","name":"Element"},"loc":{"start":{"line":6},"end":{"line":6}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":7},"end":{"line":7}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":7},"end":{"line":7}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":7},"end":{"line":7}}},"property":{"type":"Identifier","name":"ElementContainer"},"loc":{"start":{"line":7},"end":{"line":7}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"StringElement"},"loc":{"start":{"line":8},"end":{"line":8}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"A"},"loc":{"start":{"line":9},"end":{"line":9}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"TD"},"loc":{"start":{"line":10},"end":{"line":10}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"TR"},"loc":{"start":{"line":11},"end":{"line":11}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"Table"},"loc":{"start":{"line":12},"end":{"line":12}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"*"},"loc":{"start":{"line":13},"end":{"line":13}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"RefreshDBScreen"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"extending":{"type":"Identifier","name":"LessonAdapter","loc":{"start":{"line":46},"end":{"line":46}}},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"REFRESH","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":49},"end":{"line":49}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":49},"end":{"line":49}}},"init":{"type":"Literal","value":"Refresh","raw":"Refresh"},"loc":{"start":{"line":49},"end":{"line":49}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"createContent"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Element","loc":{"start":{"line":58},"end":{"line":58}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":58},"end":{"line":58}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ec","vartype":{"type":"Identifier","name":"ElementContainer","loc":{"start":{"line":60},"end":{"line":60}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"ElementContainer","loc":{"start":{"line":60},"end":{"line":60}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ElementContainer","loc":{"start":{"line":60},"end":{"line":60}}},"arguments":[],"loc":{"start":{"line":60},"end":{"line":60}}},"loc":{"start":{"line":60},"end":{"line":60}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":90},"end":{"line":90}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":92},"end":{"line":92}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":92},"end":{"line":92}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Error generating ","raw":"Error generating "},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getClass"},"loc":{"start":{"line":92},"end":{"line":92}}},"arguments":[],"loc":{"start":{"line":92},"end":{"line":92}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":92},"end":{"line":92}}},"arguments":[],"loc":{"start":{"line":92},"end":{"line":92}}},"loc":{"start":{"line":92},"end":{"line":92}}}],"loc":{"start":{"line":92},"end":{"line":92}}},"loc":{"start":{"line":92},"end":{"line":92}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":93},"end":{"line":93}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":93},"end":{"line":93}}},"arguments":[],"loc":{"start":{"line":93},"end":{"line":93}}},"loc":{"start":{"line":93},"end":{"line":93}}}],"loc":{"start":{"line":91},"end":{"line":94}}},"loc":{"start":{"line":90},"end":{"line":94}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"refresh","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":64},"end":{"line":64}}},"property":{"type":"Identifier","name":"getParser"},"loc":{"start":{"line":64},"end":{"line":64}}},"arguments":[],"loc":{"start":{"line":64},"end":{"line":64}}},"property":{"type":"Identifier","name":"getBooleanParameter"},"loc":{"start":{"line":64},"end":{"line":64}}},"arguments":[{"type":"Identifier","name":"REFRESH","loc":{"start":{"line":64},"end":{"line":64}}},{"type":"Literal","value":0,"raw":0}],"loc":{"start":{"line":64},"end":{"line":64}}},"loc":{"start":{"line":64},"end":{"line":64}}},{"type":"IfStatement","test":{"type":"Identifier","name":"refresh","loc":{"start":{"line":66},"end":{"line":66}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"refreshDB","loc":{"start":{"line":68},"end":{"line":68}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":68},"end":{"line":68}}}],"loc":{"start":{"line":68},"end":{"line":68}}},"loc":{"start":{"line":68},"end":{"line":68}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ec","loc":{"start":{"line":69},"end":{"line":69}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":69},"end":{"line":69}}},"arguments":[{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"StringElement","loc":{"start":{"line":69},"end":{"line":69}}},"arguments":[{"type":"Literal","value":"Successfully refreshed the database.","raw":"Successfully refreshed the database."}],"loc":{"start":{"line":69},"end":{"line":69}}}],"loc":{"start":{"line":69},"end":{"line":69}}},"loc":{"start":{"line":69},"end":{"line":69}}}],"loc":{"start":{"line":67},"end":{"line":70}}},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"label","vartype":{"type":"Identifier","name":"Element","loc":{"start":{"line":73},"end":{"line":73}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Element","loc":{"start":{"line":73},"end":{"line":73}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"StringElement","loc":{"start":{"line":73},"end":{"line":73}}},"arguments":[{"type":"Literal","value":"Refresh the database? ","raw":"Refresh the database? "}],"loc":{"start":{"line":73},"end":{"line":73}}},"loc":{"start":{"line":73},"end":{"line":73}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"link1","vartype":{"type":"Identifier","name":"A","loc":{"start":{"line":74},"end":{"line":74}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"A","loc":{"start":{"line":74},"end":{"line":74}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ECSFactory","loc":{"start":{"line":74},"end":{"line":74}}},"property":{"type":"Identifier","name":"makeLink"},"loc":{"start":{"line":74},"end":{"line":74}}},"arguments":[{"type":"Literal","value":"Yes","raw":"Yes"},{"type":"Identifier","name":"REFRESH","loc":{"start":{"line":74},"end":{"line":74}}},{"type":"Literal","value":1,"raw":1}],"loc":{"start":{"line":74},"end":{"line":74}}},"loc":{"start":{"line":74},"end":{"line":74}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"link2","vartype":{"type":"Identifier","name":"A","loc":{"start":{"line":75},"end":{"line":75}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"A","loc":{"start":{"line":75},"end":{"line":75}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ECSFactory","loc":{"start":{"line":75},"end":{"line":75}}},"property":{"type":"Identifier","name":"makeLink"},"loc":{"start":{"line":75},"end":{"line":75}}},"arguments":[{"type":"Literal","value":"No","raw":"No"},{"type":"Identifier","name":"REFRESH","loc":{"start":{"line":75},"end":{"line":75}}},{"type":"Literal","value":0,"raw":0}],"loc":{"start":{"line":75},"end":{"line":75}}},"loc":{"start":{"line":75},"end":{"line":75}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"td1","vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":76},"end":{"line":76}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":76},"end":{"line":76}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TD","loc":{"start":{"line":76},"end":{"line":76}}},"arguments":[],"loc":{"start":{"line":76},"end":{"line":76}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":76},"end":{"line":76}}},"arguments":[{"type":"Identifier","name":"label","loc":{"start":{"line":76},"end":{"line":76}}}],"loc":{"start":{"line":76},"end":{"line":76}}},"loc":{"start":{"line":76},"end":{"line":76}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"td2","vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":77},"end":{"line":77}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":77},"end":{"line":77}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TD","loc":{"start":{"line":77},"end":{"line":77}}},"arguments":[],"loc":{"start":{"line":77},"end":{"line":77}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":77},"end":{"line":77}}},"arguments":[{"type":"Identifier","name":"link1","loc":{"start":{"line":77},"end":{"line":77}}}],"loc":{"start":{"line":77},"end":{"line":77}}},"loc":{"start":{"line":77},"end":{"line":77}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"td3","vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":78},"end":{"line":78}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TD","loc":{"start":{"line":78},"end":{"line":78}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TD","loc":{"start":{"line":78},"end":{"line":78}}},"arguments":[],"loc":{"start":{"line":78},"end":{"line":78}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":78},"end":{"line":78}}},"arguments":[{"type":"Identifier","name":"link2","loc":{"start":{"line":78},"end":{"line":78}}}],"loc":{"start":{"line":78},"end":{"line":78}}},"loc":{"start":{"line":78},"end":{"line":78}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"row","vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":79},"end":{"line":79}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":79},"end":{"line":79}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TR","loc":{"start":{"line":79},"end":{"line":79}}},"arguments":[],"loc":{"start":{"line":79},"end":{"line":79}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":79},"end":{"line":79}}},"arguments":[{"type":"Identifier","name":"td1","loc":{"start":{"line":79},"end":{"line":79}}}],"loc":{"start":{"line":79},"end":{"line":79}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":79},"end":{"line":79}}},"arguments":[{"type":"Identifier","name":"td2","loc":{"start":{"line":79},"end":{"line":79}}}],"loc":{"start":{"line":79},"end":{"line":79}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":79},"end":{"line":79}}},"arguments":[{"type":"Identifier","name":"td3","loc":{"start":{"line":79},"end":{"line":79}}}],"loc":{"start":{"line":79},"end":{"line":79}}},"loc":{"start":{"line":79},"end":{"line":79}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"t","vartype":{"type":"Identifier","name":"Table","loc":{"start":{"line":80},"end":{"line":80}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Table","loc":{"start":{"line":80},"end":{"line":80}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Table","loc":{"start":{"line":80},"end":{"line":80}}},"arguments":[],"loc":{"start":{"line":80},"end":{"line":80}}},"property":{"type":"Identifier","name":"setCellSpacing"},"loc":{"start":{"line":80},"end":{"line":80}}},"arguments":[{"type":"Literal","value":40,"raw":40}],"loc":{"start":{"line":80},"end":{"line":80}}},"property":{"type":"Identifier","name":"setWidth"},"loc":{"start":{"line":80},"end":{"line":80}}},"arguments":[{"type":"Literal","value":"50%","raw":"50%"}],"loc":{"start":{"line":80},"end":{"line":80}}},"loc":{"start":{"line":80},"end":{"line":80}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":82},"end":{"line":82}}},"property":{"type":"Identifier","name":"isColor"},"loc":{"start":{"line":82},"end":{"line":82}}},"arguments":[],"loc":{"start":{"line":82},"end":{"line":82}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":84},"end":{"line":84}}},"property":{"type":"Identifier","name":"setBorder"},"loc":{"start":{"line":84},"end":{"line":84}}},"arguments":[{"type":"Literal","value":1,"raw":1}],"loc":{"start":{"line":84},"end":{"line":84}}},"loc":{"start":{"line":84},"end":{"line":84}}}],"loc":{"start":{"line":83},"end":{"line":85}}},"loc":{"start":{"line":82},"end":{"line":85}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":87},"end":{"line":87}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":87},"end":{"line":87}}},"arguments":[{"type":"Identifier","name":"row","loc":{"start":{"line":87},"end":{"line":87}}}],"loc":{"start":{"line":87},"end":{"line":87}}},"loc":{"start":{"line":87},"end":{"line":87}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ec","loc":{"start":{"line":88},"end":{"line":88}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":88},"end":{"line":88}}},"arguments":[{"type":"Identifier","name":"t","loc":{"start":{"line":88},"end":{"line":88}}}],"loc":{"start":{"line":88},"end":{"line":88}}},"loc":{"start":{"line":88},"end":{"line":88}}}],"loc":{"start":{"line":72},"end":{"line":89}}},"loc":{"start":{"line":66},"end":{"line":89}}}],"loc":{"start":{"line":63},"end":{"line":90}}},"loc":{"start":{"line":62},"end":{"line":94}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ec","loc":{"start":{"line":96},"end":{"line":96}}},"loc":{"start":{"line":96},"end":{"line":96}}}],"loc":{"start":{"line":59},"end":{"line":97}}},"code":"\nprotected Element createContent(WebSession s) {\n    ElementContainer ec \u003d new ElementContainer();\n    try {\n        boolean refresh \u003d s.getParser().getBooleanParameter(REFRESH, false);\n        if (refresh) {\n            refreshDB(s);\n            ec.addElement(new StringElement(\"Successfully refreshed the database.\"));\n        } else {\n            Element label \u003d new StringElement(\"Refresh the database? \");\n            A link1 \u003d ECSFactory.makeLink(\"Yes\", REFRESH, true);\n            A link2 \u003d ECSFactory.makeLink(\"No\", REFRESH, false);\n            TD td1 \u003d new TD().addElement(label);\n            TD td2 \u003d new TD().addElement(link1);\n            TD td3 \u003d new TD().addElement(link2);\n            TR row \u003d new TR().addElement(td1).addElement(td2).addElement(td3);\n            Table t \u003d new Table().setCellSpacing(40).setWidth(\"50%\");\n            if (s.isColor()) {\n                t.setBorder(1);\n            }\n            t.addElement(row);\n            ec.addElement(t);\n        }\n    } catch (Exception e) {\n        s.setMessage(\"Error generating \" + this.getClass().getName());\n        e.printStackTrace();\n    }\n    return (ec);\n}","loc":{"start":{"line":58},"end":{"line":97}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getDefaultCategory"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Category","loc":{"start":{"line":104},"end":{"line":104}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"Category","loc":{"start":{"line":106},"end":{"line":106}}},"property":{"type":"Identifier","name":"ADMIN_FUNCTIONS"},"loc":{"start":{"line":106},"end":{"line":106}}},"loc":{"start":{"line":106},"end":{"line":106}}}],"loc":{"start":{"line":105},"end":{"line":107}}},"code":"\nprotected Category getDefaultCategory() {\n    return Category.ADMIN_FUNCTIONS;\n}","loc":{"start":{"line":104},"end":{"line":107}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"DEFAULT_RANKING","vartype":{"type":"Identifier","name":"Integer","loc":{"start":{"line":109},"end":{"line":109}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Integer","loc":{"start":{"line":109},"end":{"line":109}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Integer","loc":{"start":{"line":109},"end":{"line":109}}},"arguments":[{"type":"Literal","value":1000,"raw":1000}],"loc":{"start":{"line":109},"end":{"line":109}}},"loc":{"start":{"line":109},"end":{"line":109}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getDefaultRanking"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Integer","loc":{"start":{"line":111},"end":{"line":111}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"DEFAULT_RANKING","loc":{"start":{"line":113},"end":{"line":113}}},"loc":{"start":{"line":113},"end":{"line":113}}}],"loc":{"start":{"line":112},"end":{"line":114}}},"code":"\nprotected Integer getDefaultRanking() {\n    return DEFAULT_RANKING;\n}","loc":{"start":{"line":111},"end":{"line":114}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getRole"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":121},"end":{"line":121}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ADMIN_ROLE","loc":{"start":{"line":123},"end":{"line":123}}},"loc":{"start":{"line":123},"end":{"line":123}}}],"loc":{"start":{"line":122},"end":{"line":124}}},"code":"\npublic String getRole() {\n    return ADMIN_ROLE;\n}","loc":{"start":{"line":121},"end":{"line":124}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getTitle"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":131},"end":{"line":131}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","value":"Refresh Database","raw":"Refresh Database"},"loc":{"start":{"line":133},"end":{"line":133}}}],"loc":{"start":{"line":132},"end":{"line":134}}},"code":"\npublic String getTitle() {\n    return (\"Refresh Database\");\n}","loc":{"start":{"line":131},"end":{"line":134}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"refreshDB"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":142},"end":{"line":142}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":151},"end":{"line":151}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":153},"end":{"line":153}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":153},"end":{"line":153}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Error refreshing database ","raw":"Error refreshing database "},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getClass"},"loc":{"start":{"line":153},"end":{"line":153}}},"arguments":[],"loc":{"start":{"line":153},"end":{"line":153}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":153},"end":{"line":153}}},"arguments":[],"loc":{"start":{"line":153},"end":{"line":153}}},"loc":{"start":{"line":153},"end":{"line":153}}}],"loc":{"start":{"line":153},"end":{"line":153}}},"loc":{"start":{"line":153},"end":{"line":153}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":154},"end":{"line":154}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":154},"end":{"line":154}}},"arguments":[],"loc":{"start":{"line":154},"end":{"line":154}}},"loc":{"start":{"line":154},"end":{"line":154}}}],"loc":{"start":{"line":152},"end":{"line":155}}},"loc":{"start":{"line":151},"end":{"line":155}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"connection","vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":146},"end":{"line":146}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":146},"end":{"line":146}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"DatabaseUtilities","loc":{"start":{"line":146},"end":{"line":146}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":146},"end":{"line":146}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":146},"end":{"line":146}}}],"loc":{"start":{"line":146},"end":{"line":146}}},"loc":{"start":{"line":146},"end":{"line":146}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"db","vartype":{"type":"Identifier","name":"CreateDB","loc":{"start":{"line":148},"end":{"line":148}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"CreateDB","loc":{"start":{"line":148},"end":{"line":148}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"CreateDB","loc":{"start":{"line":148},"end":{"line":148}}},"arguments":[],"loc":{"start":{"line":148},"end":{"line":148}}},"loc":{"start":{"line":148},"end":{"line":148}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db","loc":{"start":{"line":149},"end":{"line":149}}},"property":{"type":"Identifier","name":"makeDB"},"loc":{"start":{"line":149},"end":{"line":149}}},"arguments":[{"type":"Identifier","name":"connection","loc":{"start":{"line":149},"end":{"line":149}}}],"loc":{"start":{"line":149},"end":{"line":149}}},"loc":{"start":{"line":149},"end":{"line":149}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"System","loc":{"start":{"line":150},"end":{"line":150}}},"property":{"type":"Identifier","name":"out"},"loc":{"start":{"line":150},"end":{"line":150}}},"property":{"type":"Identifier","name":"println"},"loc":{"start":{"line":150},"end":{"line":150}}},"arguments":[{"type":"Literal","value":"Successfully refreshed the database.","raw":"Successfully refreshed the database."}],"loc":{"start":{"line":150},"end":{"line":150}}},"loc":{"start":{"line":150},"end":{"line":150}}}],"loc":{"start":{"line":145},"end":{"line":151}}},"loc":{"start":{"line":144},"end":{"line":155}}}],"loc":{"start":{"line":143},"end":{"line":156}}},"code":"\npublic void refreshDB(WebSession s) {\n    try {\n        Connection connection \u003d DatabaseUtilities.getConnection(s);\n        CreateDB db \u003d new CreateDB();\n        db.makeDB(connection);\n        System.out.println(\"Successfully refreshed the database.\");\n    } catch (Exception e) {\n        s.setMessage(\"Error refreshing database \" + this.getClass().getName());\n        e.printStackTrace();\n    }\n}","loc":{"start":{"line":142},"end":{"line":156}}}],"loc":{"start":{"line":46},"end":{"line":157}}}],"loc":{"start":{"line":2},"end":{"line":157}},"sourcefile":"/Users/gli/codiscope/jacks.engine/WebGoat-5.4/WEB-INF/classes/org/owasp/webgoat/lessons/admin/RefreshDBScreen.java"}