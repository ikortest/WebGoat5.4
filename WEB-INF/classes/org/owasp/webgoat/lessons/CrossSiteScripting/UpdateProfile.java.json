{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"CrossSiteScripting"},"loc":{"start":{"line":2},"end":{"line":2}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"ResultSet"},"loc":{"start":{"line":4},"end":{"line":4}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":5},"end":{"line":5}}},"property":{"type":"Identifier","name":"SQLException"},"loc":{"start":{"line":5},"end":{"line":5}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":6},"end":{"line":6}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":6},"end":{"line":6}}},"property":{"type":"Identifier","name":"PreparedStatement"},"loc":{"start":{"line":6},"end":{"line":6}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":7},"end":{"line":7}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":7},"end":{"line":7}}},"property":{"type":"Identifier","name":"Statement"},"loc":{"start":{"line":7},"end":{"line":7}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"regex"},"loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"Matcher"},"loc":{"start":{"line":8},"end":{"line":8}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"regex"},"loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"Pattern"},"loc":{"start":{"line":9},"end":{"line":9}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"http"},"loc":{"start":{"line":10},"end":{"line":10}}},"property":{"type":"Identifier","name":"HttpServletRequest"},"loc":{"start":{"line":10},"end":{"line":10}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"GoatHillsFinancial"},"loc":{"start":{"line":11},"end":{"line":11}}},"property":{"type":"Identifier","name":"DefaultLessonAction"},"loc":{"start":{"line":11},"end":{"line":11}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"GoatHillsFinancial"},"loc":{"start":{"line":12},"end":{"line":12}}},"property":{"type":"Identifier","name":"GoatHillsFinancial"},"loc":{"start":{"line":12},"end":{"line":12}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"GoatHillsFinancial"},"loc":{"start":{"line":13},"end":{"line":13}}},"property":{"type":"Identifier","name":"LessonAction"},"loc":{"start":{"line":13},"end":{"line":13}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":14},"end":{"line":14}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":14},"end":{"line":14}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":14},"end":{"line":14}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":14},"end":{"line":14}}},"property":{"type":"Identifier","name":"Employee"},"loc":{"start":{"line":14},"end":{"line":14}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":15},"end":{"line":15}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":15},"end":{"line":15}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":15},"end":{"line":15}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":15},"end":{"line":15}}},"property":{"type":"Identifier","name":"ParameterNotFoundException"},"loc":{"start":{"line":15},"end":{"line":15}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":16},"end":{"line":16}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":16},"end":{"line":16}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":16},"end":{"line":16}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":16},"end":{"line":16}}},"property":{"type":"Identifier","name":"ParameterParser"},"loc":{"start":{"line":16},"end":{"line":16}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":17},"end":{"line":17}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":17},"end":{"line":17}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":17},"end":{"line":17}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":17},"end":{"line":17}}},"property":{"type":"Identifier","name":"UnauthenticatedException"},"loc":{"start":{"line":17},"end":{"line":17}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":18},"end":{"line":18}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":18},"end":{"line":18}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":18},"end":{"line":18}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":18},"end":{"line":18}}},"property":{"type":"Identifier","name":"UnauthorizedException"},"loc":{"start":{"line":18},"end":{"line":18}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":19},"end":{"line":19}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":19},"end":{"line":19}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":19},"end":{"line":19}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":19},"end":{"line":19}}},"property":{"type":"Identifier","name":"ValidationException"},"loc":{"start":{"line":19},"end":{"line":19}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":20},"end":{"line":20}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":20},"end":{"line":20}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":20},"end":{"line":20}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":20},"end":{"line":20}}},"property":{"type":"Identifier","name":"WebSession"},"loc":{"start":{"line":20},"end":{"line":20}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"UpdateProfile"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"extending":{"type":"Identifier","name":"DefaultLessonAction","loc":{"start":{"line":50},"end":{"line":50}}},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chainedAction","vartype":{"type":"Identifier","name":"LessonAction","loc":{"start":{"line":53},"end":{"line":53}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"LessonAction","loc":{"start":{"line":53},"end":{"line":53}}},"loc":{"start":{"line":53},"end":{"line":53}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"\u003cinit\u003e"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"typarams":[],"params":[{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"GoatHillsFinancial","loc":{"start":{"line":55},"end":{"line":55}}}},{"type":"Identifier","name":"lessonName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":55},"end":{"line":55}}}},{"type":"Identifier","name":"actionName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":55},"end":{"line":55}}}},{"type":"Identifier","name":"chainedAction","vartype":{"type":"Identifier","name":"LessonAction","loc":{"start":{"line":55},"end":{"line":55}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"super","loc":{"start":{"line":57},"end":{"line":57}}},"arguments":[{"type":"Identifier","name":"lesson","loc":{"start":{"line":57},"end":{"line":57}}},{"type":"Identifier","name":"lessonName","loc":{"start":{"line":57},"end":{"line":57}}},{"type":"Identifier","name":"actionName","loc":{"start":{"line":57},"end":{"line":57}}}],"loc":{"start":{"line":57},"end":{"line":57}}},"loc":{"start":{"line":57},"end":{"line":57}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"chainedAction"},"loc":{"start":{"line":58},"end":{"line":58}}},"right":{"type":"Identifier","name":"chainedAction","loc":{"start":{"line":58},"end":{"line":58}}},"loc":{"start":{"line":58},"end":{"line":58}}},"loc":{"start":{"line":58},"end":{"line":58}}}],"loc":{"start":{"line":56},"end":{"line":59}}},"code":"\npublic \u003cinit\u003e(GoatHillsFinancial lesson, String lessonName, String actionName, LessonAction chainedAction) {\n    super(lesson, lessonName, actionName);\n    this.chainedAction \u003d chainedAction;\n}","loc":{"start":{"line":55},"end":{"line":59}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handleRequest"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":61},"end":{"line":61}}}}],"thrown":[{"type":"Identifier","name":"ParameterNotFoundException","loc":{"start":{"line":61},"end":{"line":61}}},{"type":"Identifier","name":"UnauthenticatedException","loc":{"start":{"line":61},"end":{"line":61}}},{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":62},"end":{"line":62}}},{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":62},"end":{"line":62}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"isAuthenticated","loc":{"start":{"line":64},"end":{"line":64}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":64},"end":{"line":64}}}],"loc":{"start":{"line":64},"end":{"line":64}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"userId","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getIntSessionAttribute","loc":{"start":{"line":66},"end":{"line":66}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":66},"end":{"line":66}}},{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessonName","loc":{"start":{"line":66},"end":{"line":66}}},"arguments":[],"loc":{"start":{"line":66},"end":{"line":66}}},"right":{"type":"Literal","value":".","raw":"."},"loc":{"start":{"line":66},"end":{"line":66}}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":66},"end":{"line":66}}},"property":{"type":"Identifier","name":"USER_ID"},"loc":{"start":{"line":66},"end":{"line":66}}},"loc":{"start":{"line":66},"end":{"line":66}}}],"loc":{"start":{"line":66},"end":{"line":66}}},"loc":{"start":{"line":66},"end":{"line":66}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":68},"end":{"line":68}}},"property":{"type":"Identifier","name":"getParser"},"loc":{"start":{"line":68},"end":{"line":68}}},"arguments":[],"loc":{"start":{"line":68},"end":{"line":68}}},"property":{"type":"Identifier","name":"getIntParameter"},"loc":{"start":{"line":68},"end":{"line":68}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":68},"end":{"line":68}}},"property":{"type":"Identifier","name":"EMPLOYEE_ID"},"loc":{"start":{"line":68},"end":{"line":68}}},{"type":"Literal","value":0,"raw":0}],"loc":{"start":{"line":68},"end":{"line":68}}},"loc":{"start":{"line":68},"end":{"line":68}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":70},"end":{"line":70}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":70},"end":{"line":70}}},"init":{"type":"Literal"},"loc":{"start":{"line":70},"end":{"line":70}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":74},"end":{"line":74}}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":76},"end":{"line":76}}},"property":{"type":"Identifier","name":"STAGE2"},"loc":{"start":{"line":76},"end":{"line":76}}},"property":{"type":"Identifier","name":"equals"},"loc":{"start":{"line":76},"end":{"line":76}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getStage","loc":{"start":{"line":76},"end":{"line":76}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":76},"end":{"line":76}}}],"loc":{"start":{"line":76},"end":{"line":76}}}],"loc":{"start":{"line":76},"end":{"line":76}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"setStageComplete","loc":{"start":{"line":78},"end":{"line":78}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":78},"end":{"line":78}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":78},"end":{"line":78}}},"property":{"type":"Identifier","name":"STAGE2"},"loc":{"start":{"line":78},"end":{"line":78}}}],"loc":{"start":{"line":78},"end":{"line":78}}},"loc":{"start":{"line":78},"end":{"line":78}}}],"loc":{"start":{"line":77},"end":{"line":79}}},"loc":{"start":{"line":76},"end":{"line":79}}},{"type":"ThrowStatement","argument":{"type":"Identifier","name":"e","loc":{"start":{"line":80},"end":{"line":80}}},"loc":{"start":{"line":80},"end":{"line":80}}}],"loc":{"start":{"line":75},"end":{"line":81}}},"loc":{"start":{"line":74},"end":{"line":81}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"employee","loc":{"start":{"line":73},"end":{"line":73}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"parseEmployeeProfile","loc":{"start":{"line":73},"end":{"line":73}}},"arguments":[{"type":"Identifier","name":"subjectId","loc":{"start":{"line":73},"end":{"line":73}}},{"type":"Identifier","name":"s","loc":{"start":{"line":73},"end":{"line":73}}}],"loc":{"start":{"line":73},"end":{"line":73}}},"loc":{"start":{"line":73},"end":{"line":73}}},"loc":{"start":{"line":73},"end":{"line":73}}}],"loc":{"start":{"line":72},"end":{"line":74}}},"loc":{"start":{"line":71},"end":{"line":81}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"GREATER_THAN","left":{"type":"Identifier","name":"subjectId","loc":{"start":{"line":83},"end":{"line":83}}},"right":{"type":"Literal","value":0,"raw":0},"loc":{"start":{"line":83},"end":{"line":83}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"changeEmployeeProfile"},"loc":{"start":{"line":85},"end":{"line":85}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":85},"end":{"line":85}}},{"type":"Identifier","name":"userId","loc":{"start":{"line":85},"end":{"line":85}}},{"type":"Identifier","name":"subjectId","loc":{"start":{"line":85},"end":{"line":85}}},{"type":"Identifier","name":"employee","loc":{"start":{"line":85},"end":{"line":85}}}],"loc":{"start":{"line":85},"end":{"line":85}}},"loc":{"start":{"line":85},"end":{"line":85}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"setRequestAttribute","loc":{"start":{"line":86},"end":{"line":86}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":86},"end":{"line":86}}},{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessonName","loc":{"start":{"line":86},"end":{"line":86}}},"arguments":[],"loc":{"start":{"line":86},"end":{"line":86}}},"right":{"type":"Literal","value":".","raw":"."},"loc":{"start":{"line":86},"end":{"line":86}}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":86},"end":{"line":86}}},"property":{"type":"Identifier","name":"EMPLOYEE_ID"},"loc":{"start":{"line":86},"end":{"line":86}}},"loc":{"start":{"line":86},"end":{"line":86}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":86},"end":{"line":86}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":86},"end":{"line":87}}},"arguments":[{"type":"Identifier","name":"subjectId","loc":{"start":{"line":87},"end":{"line":87}}}],"loc":{"start":{"line":86},"end":{"line":87}}}],"loc":{"start":{"line":86},"end":{"line":87}}},"loc":{"start":{"line":86},"end":{"line":87}}}],"loc":{"start":{"line":84},"end":{"line":88}}},"alternate":{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"createEmployeeProfile"},"loc":{"start":{"line":90},"end":{"line":90}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":90},"end":{"line":90}}},{"type":"Identifier","name":"userId","loc":{"start":{"line":90},"end":{"line":90}}},{"type":"Identifier","name":"employee","loc":{"start":{"line":90},"end":{"line":90}}}],"loc":{"start":{"line":90},"end":{"line":90}}},"loc":{"start":{"line":90},"end":{"line":90}}},"loc":{"start":{"line":83},"end":{"line":90}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"ue1","vartype":{"type":"Identifier","name":"UnauthenticatedException","loc":{"start":{"line":95},"end":{"line":95}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ue1","loc":{"start":{"line":98},"end":{"line":98}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":98},"end":{"line":98}}},"arguments":[],"loc":{"start":{"line":98},"end":{"line":98}}},"loc":{"start":{"line":98},"end":{"line":98}}}],"loc":{"start":{"line":96},"end":{"line":99}}},"loc":{"start":{"line":95},"end":{"line":99}}},{"type":"CatchClause","param":{"type":"Identifier","name":"ue2","vartype":{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":99},"end":{"line":99}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ue2","loc":{"start":{"line":102},"end":{"line":102}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":102},"end":{"line":102}}},"arguments":[],"loc":{"start":{"line":102},"end":{"line":102}}},"loc":{"start":{"line":102},"end":{"line":102}}}],"loc":{"start":{"line":100},"end":{"line":103}}},"loc":{"start":{"line":99},"end":{"line":103}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chainedAction","loc":{"start":{"line":94},"end":{"line":94}}},"property":{"type":"Identifier","name":"handleRequest"},"loc":{"start":{"line":94},"end":{"line":94}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":94},"end":{"line":94}}}],"loc":{"start":{"line":94},"end":{"line":94}}},"loc":{"start":{"line":94},"end":{"line":94}}}],"loc":{"start":{"line":93},"end":{"line":95}}},"loc":{"start":{"line":92},"end":{"line":103}}}],"loc":{"start":{"line":65},"end":{"line":104}}},"alternate":{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"UnauthenticatedException","loc":{"start":{"line":106},"end":{"line":106}}},"arguments":[],"loc":{"start":{"line":106},"end":{"line":106}}},"loc":{"start":{"line":106},"end":{"line":106}}},"loc":{"start":{"line":64},"end":{"line":106}}}],"loc":{"start":{"line":63},"end":{"line":107}}},"code":"\npublic void handleRequest(WebSession s) throws ParameterNotFoundException, UnauthenticatedException, UnauthorizedException, ValidationException {\n    if (isAuthenticated(s)) {\n        int userId \u003d getIntSessionAttribute(s, getLessonName() + \".\" + CrossSiteScripting.USER_ID);\n        int subjectId \u003d s.getParser().getIntParameter(CrossSiteScripting.EMPLOYEE_ID, 0);\n        Employee employee \u003d null;\n        try {\n            employee \u003d parseEmployeeProfile(subjectId, s);\n        } catch (ValidationException e) {\n            if (CrossSiteScripting.STAGE2.equals(getStage(s))) {\n                setStageComplete(s, CrossSiteScripting.STAGE2);\n            }\n            throw e;\n        }\n        if (subjectId \u003e 0) {\n            this.changeEmployeeProfile(s, userId, subjectId, employee);\n            setRequestAttribute(s, getLessonName() + \".\" + CrossSiteScripting.EMPLOYEE_ID, Integer.toString(subjectId));\n        } else this.createEmployeeProfile(s, userId, employee);\n        try {\n            chainedAction.handleRequest(s);\n        } catch (UnauthenticatedException ue1) {\n            ue1.printStackTrace();\n        } catch (UnauthorizedException ue2) {\n            ue2.printStackTrace();\n        }\n    } else throw new UnauthenticatedException();\n}","loc":{"start":{"line":61},"end":{"line":107}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"parseEmployeeProfile"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":109},"end":{"line":109}}},"typarams":[],"params":[{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":109},"end":{"line":109}}}}],"thrown":[{"type":"Identifier","name":"ParameterNotFoundException","loc":{"start":{"line":109},"end":{"line":109}}},{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":110},"end":{"line":110}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"request","vartype":{"type":"Identifier","name":"HttpServletRequest","loc":{"start":{"line":116},"end":{"line":116}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"HttpServletRequest","loc":{"start":{"line":116},"end":{"line":116}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":116},"end":{"line":116}}},"property":{"type":"Identifier","name":"getRequest"},"loc":{"start":{"line":116},"end":{"line":116}}},"arguments":[],"loc":{"start":{"line":116},"end":{"line":116}}},"loc":{"start":{"line":116},"end":{"line":116}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":117},"end":{"line":117}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":117},"end":{"line":117}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":117},"end":{"line":117}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":117},"end":{"line":117}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":117},"end":{"line":117}}},"property":{"type":"Identifier","name":"FIRST_NAME"},"loc":{"start":{"line":117},"end":{"line":117}}}],"loc":{"start":{"line":117},"end":{"line":117}}},"loc":{"start":{"line":117},"end":{"line":117}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":118},"end":{"line":118}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":118},"end":{"line":118}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":118},"end":{"line":118}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":118},"end":{"line":118}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":118},"end":{"line":118}}},"property":{"type":"Identifier","name":"LAST_NAME"},"loc":{"start":{"line":118},"end":{"line":118}}}],"loc":{"start":{"line":118},"end":{"line":118}}},"loc":{"start":{"line":118},"end":{"line":118}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ssn","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":119},"end":{"line":119}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":119},"end":{"line":119}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":119},"end":{"line":119}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":119},"end":{"line":119}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":119},"end":{"line":119}}},"property":{"type":"Identifier","name":"SSN"},"loc":{"start":{"line":119},"end":{"line":119}}}],"loc":{"start":{"line":119},"end":{"line":119}}},"loc":{"start":{"line":119},"end":{"line":119}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"title","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":120},"end":{"line":120}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":120},"end":{"line":120}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":120},"end":{"line":120}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":120},"end":{"line":120}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":120},"end":{"line":120}}},"property":{"type":"Identifier","name":"TITLE"},"loc":{"start":{"line":120},"end":{"line":120}}}],"loc":{"start":{"line":120},"end":{"line":120}}},"loc":{"start":{"line":120},"end":{"line":120}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"phone","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":121},"end":{"line":121}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":121},"end":{"line":121}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":121},"end":{"line":121}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":121},"end":{"line":121}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":121},"end":{"line":121}}},"property":{"type":"Identifier","name":"PHONE_NUMBER"},"loc":{"start":{"line":121},"end":{"line":121}}}],"loc":{"start":{"line":121},"end":{"line":121}}},"loc":{"start":{"line":121},"end":{"line":121}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"address1","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":122},"end":{"line":122}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":122},"end":{"line":122}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":122},"end":{"line":122}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":122},"end":{"line":122}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":122},"end":{"line":122}}},"property":{"type":"Identifier","name":"ADDRESS1"},"loc":{"start":{"line":122},"end":{"line":122}}}],"loc":{"start":{"line":122},"end":{"line":122}}},"loc":{"start":{"line":122},"end":{"line":122}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"address2","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":123},"end":{"line":123}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":123},"end":{"line":123}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":123},"end":{"line":123}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":123},"end":{"line":123}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":123},"end":{"line":123}}},"property":{"type":"Identifier","name":"ADDRESS2"},"loc":{"start":{"line":123},"end":{"line":123}}}],"loc":{"start":{"line":123},"end":{"line":123}}},"loc":{"start":{"line":123},"end":{"line":123}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"manager","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":124},"end":{"line":124}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":124},"end":{"line":124}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":124},"end":{"line":124}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":124},"end":{"line":124}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":124},"end":{"line":124}}},"property":{"type":"Identifier","name":"MANAGER"},"loc":{"start":{"line":124},"end":{"line":124}}}],"loc":{"start":{"line":124},"end":{"line":124}}}],"loc":{"start":{"line":124},"end":{"line":124}}},"loc":{"start":{"line":124},"end":{"line":124}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startDate","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":125},"end":{"line":125}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":125},"end":{"line":125}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":125},"end":{"line":125}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":125},"end":{"line":125}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":125},"end":{"line":125}}},"property":{"type":"Identifier","name":"START_DATE"},"loc":{"start":{"line":125},"end":{"line":125}}}],"loc":{"start":{"line":125},"end":{"line":125}}},"loc":{"start":{"line":125},"end":{"line":125}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"salary","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":126},"end":{"line":126}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":126},"end":{"line":126}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":126},"end":{"line":126}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":126},"end":{"line":126}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":126},"end":{"line":126}}},"property":{"type":"Identifier","name":"SALARY"},"loc":{"start":{"line":126},"end":{"line":126}}}],"loc":{"start":{"line":126},"end":{"line":126}}}],"loc":{"start":{"line":126},"end":{"line":126}}},"loc":{"start":{"line":126},"end":{"line":126}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ccn","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":127},"end":{"line":127}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":127},"end":{"line":127}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":127},"end":{"line":127}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":127},"end":{"line":127}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":127},"end":{"line":127}}},"property":{"type":"Identifier","name":"CCN"},"loc":{"start":{"line":127},"end":{"line":127}}}],"loc":{"start":{"line":127},"end":{"line":127}}},"loc":{"start":{"line":127},"end":{"line":127}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ccnLimit","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":128},"end":{"line":128}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":128},"end":{"line":128}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":128},"end":{"line":128}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":128},"end":{"line":128}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":128},"end":{"line":128}}},"property":{"type":"Identifier","name":"CCN_LIMIT"},"loc":{"start":{"line":128},"end":{"line":128}}}],"loc":{"start":{"line":128},"end":{"line":128}}}],"loc":{"start":{"line":128},"end":{"line":128}}},"loc":{"start":{"line":128},"end":{"line":128}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"disciplinaryActionDate","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":129},"end":{"line":129}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":129},"end":{"line":129}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":129},"end":{"line":129}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":129},"end":{"line":129}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":129},"end":{"line":129}}},"property":{"type":"Identifier","name":"DISCIPLINARY_DATE"},"loc":{"start":{"line":129},"end":{"line":129}}}],"loc":{"start":{"line":129},"end":{"line":129}}},"loc":{"start":{"line":129},"end":{"line":129}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"disciplinaryActionNotes","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":130},"end":{"line":130}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":130},"end":{"line":130}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":130},"end":{"line":130}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":130},"end":{"line":130}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":130},"end":{"line":130}}},"property":{"type":"Identifier","name":"DISCIPLINARY_NOTES"},"loc":{"start":{"line":130},"end":{"line":130}}}],"loc":{"start":{"line":130},"end":{"line":130}}},"loc":{"start":{"line":130},"end":{"line":130}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"personalDescription","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":131},"end":{"line":131}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":131},"end":{"line":131}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":131},"end":{"line":131}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":131},"end":{"line":131}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":131},"end":{"line":131}}},"property":{"type":"Identifier","name":"DESCRIPTION"},"loc":{"start":{"line":131},"end":{"line":131}}}],"loc":{"start":{"line":131},"end":{"line":131}}},"loc":{"start":{"line":131},"end":{"line":131}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":133},"end":{"line":133}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":133},"end":{"line":133}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Employee","loc":{"start":{"line":133},"end":{"line":133}}},"arguments":[{"type":"Identifier","name":"subjectId","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"firstName","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"lastName","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"ssn","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"title","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"phone","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"address1","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"address2","loc":{"start":{"line":133},"end":{"line":133}}},{"type":"Identifier","name":"manager","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"startDate","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"salary","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"ccn","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"ccnLimit","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"disciplinaryActionDate","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"disciplinaryActionNotes","loc":{"start":{"line":134},"end":{"line":134}}},{"type":"Identifier","name":"personalDescription","loc":{"start":{"line":135},"end":{"line":135}}}],"loc":{"start":{"line":133},"end":{"line":135}}},"loc":{"start":{"line":133},"end":{"line":135}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"employee","loc":{"start":{"line":137},"end":{"line":137}}},"loc":{"start":{"line":137},"end":{"line":137}}}],"loc":{"start":{"line":111},"end":{"line":138}}},"code":"\nprotected Employee parseEmployeeProfile(int subjectId, WebSession s) throws ParameterNotFoundException, ValidationException {\n    HttpServletRequest request \u003d s.getRequest();\n    String firstName \u003d request.getParameter(CrossSiteScripting.FIRST_NAME);\n    String lastName \u003d request.getParameter(CrossSiteScripting.LAST_NAME);\n    String ssn \u003d request.getParameter(CrossSiteScripting.SSN);\n    String title \u003d request.getParameter(CrossSiteScripting.TITLE);\n    String phone \u003d request.getParameter(CrossSiteScripting.PHONE_NUMBER);\n    String address1 \u003d request.getParameter(CrossSiteScripting.ADDRESS1);\n    String address2 \u003d request.getParameter(CrossSiteScripting.ADDRESS2);\n    int manager \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.MANAGER));\n    String startDate \u003d request.getParameter(CrossSiteScripting.START_DATE);\n    int salary \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.SALARY));\n    String ccn \u003d request.getParameter(CrossSiteScripting.CCN);\n    int ccnLimit \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.CCN_LIMIT));\n    String disciplinaryActionDate \u003d request.getParameter(CrossSiteScripting.DISCIPLINARY_DATE);\n    String disciplinaryActionNotes \u003d request.getParameter(CrossSiteScripting.DISCIPLINARY_NOTES);\n    String personalDescription \u003d request.getParameter(CrossSiteScripting.DESCRIPTION);\n    Employee employee \u003d new Employee(subjectId, firstName, lastName, ssn, title, phone, address1, address2, manager, startDate, salary, ccn, ccnLimit, disciplinaryActionDate, disciplinaryActionNotes, personalDescription);\n    return employee;\n}","loc":{"start":{"line":109},"end":{"line":138}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"parseEmployeeProfile_BACKUP"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":140},"end":{"line":140}}},"typarams":[],"params":[{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":140},"end":{"line":140}}}}],"thrown":[{"type":"Identifier","name":"ParameterNotFoundException","loc":{"start":{"line":140},"end":{"line":140}}},{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":141},"end":{"line":141}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"request","vartype":{"type":"Identifier","name":"HttpServletRequest","loc":{"start":{"line":147},"end":{"line":147}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"HttpServletRequest","loc":{"start":{"line":147},"end":{"line":147}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":147},"end":{"line":147}}},"property":{"type":"Identifier","name":"getRequest"},"loc":{"start":{"line":147},"end":{"line":147}}},"arguments":[],"loc":{"start":{"line":147},"end":{"line":147}}},"loc":{"start":{"line":147},"end":{"line":147}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":148},"end":{"line":148}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":148},"end":{"line":148}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":148},"end":{"line":148}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":148},"end":{"line":148}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":148},"end":{"line":148}}},"property":{"type":"Identifier","name":"FIRST_NAME"},"loc":{"start":{"line":148},"end":{"line":148}}}],"loc":{"start":{"line":148},"end":{"line":148}}},"loc":{"start":{"line":148},"end":{"line":148}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lastName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":149},"end":{"line":149}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":149},"end":{"line":149}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":149},"end":{"line":149}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":149},"end":{"line":149}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":149},"end":{"line":149}}},"property":{"type":"Identifier","name":"LAST_NAME"},"loc":{"start":{"line":149},"end":{"line":149}}}],"loc":{"start":{"line":149},"end":{"line":149}}},"loc":{"start":{"line":149},"end":{"line":149}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ssn","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":150},"end":{"line":150}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":150},"end":{"line":150}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":150},"end":{"line":150}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":150},"end":{"line":150}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":150},"end":{"line":150}}},"property":{"type":"Identifier","name":"SSN"},"loc":{"start":{"line":150},"end":{"line":150}}}],"loc":{"start":{"line":150},"end":{"line":150}}},"loc":{"start":{"line":150},"end":{"line":150}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"title","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":151},"end":{"line":151}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":151},"end":{"line":151}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":151},"end":{"line":151}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":151},"end":{"line":151}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":151},"end":{"line":151}}},"property":{"type":"Identifier","name":"TITLE"},"loc":{"start":{"line":151},"end":{"line":151}}}],"loc":{"start":{"line":151},"end":{"line":151}}},"loc":{"start":{"line":151},"end":{"line":151}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"phone","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":152},"end":{"line":152}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":152},"end":{"line":152}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":152},"end":{"line":152}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":152},"end":{"line":152}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":152},"end":{"line":152}}},"property":{"type":"Identifier","name":"PHONE_NUMBER"},"loc":{"start":{"line":152},"end":{"line":152}}}],"loc":{"start":{"line":152},"end":{"line":152}}},"loc":{"start":{"line":152},"end":{"line":152}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"address1","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":153},"end":{"line":153}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":153},"end":{"line":153}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":153},"end":{"line":153}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":153},"end":{"line":153}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":153},"end":{"line":153}}},"property":{"type":"Identifier","name":"ADDRESS1"},"loc":{"start":{"line":153},"end":{"line":153}}}],"loc":{"start":{"line":153},"end":{"line":153}}},"loc":{"start":{"line":153},"end":{"line":153}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"address2","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":154},"end":{"line":154}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":154},"end":{"line":154}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":154},"end":{"line":154}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":154},"end":{"line":154}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":154},"end":{"line":154}}},"property":{"type":"Identifier","name":"ADDRESS2"},"loc":{"start":{"line":154},"end":{"line":154}}}],"loc":{"start":{"line":154},"end":{"line":154}}},"loc":{"start":{"line":154},"end":{"line":154}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"manager","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":155},"end":{"line":155}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":155},"end":{"line":155}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":155},"end":{"line":155}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":155},"end":{"line":155}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":155},"end":{"line":155}}},"property":{"type":"Identifier","name":"MANAGER"},"loc":{"start":{"line":155},"end":{"line":155}}}],"loc":{"start":{"line":155},"end":{"line":155}}}],"loc":{"start":{"line":155},"end":{"line":155}}},"loc":{"start":{"line":155},"end":{"line":155}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"startDate","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":156},"end":{"line":156}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":156},"end":{"line":156}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":156},"end":{"line":156}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":156},"end":{"line":156}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":156},"end":{"line":156}}},"property":{"type":"Identifier","name":"START_DATE"},"loc":{"start":{"line":156},"end":{"line":156}}}],"loc":{"start":{"line":156},"end":{"line":156}}},"loc":{"start":{"line":156},"end":{"line":156}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"salary","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":157},"end":{"line":157}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":157},"end":{"line":157}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":157},"end":{"line":157}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":157},"end":{"line":157}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":157},"end":{"line":157}}},"property":{"type":"Identifier","name":"SALARY"},"loc":{"start":{"line":157},"end":{"line":157}}}],"loc":{"start":{"line":157},"end":{"line":157}}}],"loc":{"start":{"line":157},"end":{"line":157}}},"loc":{"start":{"line":157},"end":{"line":157}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ccn","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":158},"end":{"line":158}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":158},"end":{"line":158}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":158},"end":{"line":158}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":158},"end":{"line":158}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":158},"end":{"line":158}}},"property":{"type":"Identifier","name":"CCN"},"loc":{"start":{"line":158},"end":{"line":158}}}],"loc":{"start":{"line":158},"end":{"line":158}}},"loc":{"start":{"line":158},"end":{"line":158}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ccnLimit","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":159},"end":{"line":159}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":159},"end":{"line":159}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":159},"end":{"line":159}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":159},"end":{"line":159}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":159},"end":{"line":159}}},"property":{"type":"Identifier","name":"CCN_LIMIT"},"loc":{"start":{"line":159},"end":{"line":159}}}],"loc":{"start":{"line":159},"end":{"line":159}}}],"loc":{"start":{"line":159},"end":{"line":159}}},"loc":{"start":{"line":159},"end":{"line":159}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"disciplinaryActionDate","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":160},"end":{"line":160}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":160},"end":{"line":160}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":160},"end":{"line":160}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":160},"end":{"line":160}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":160},"end":{"line":160}}},"property":{"type":"Identifier","name":"DISCIPLINARY_DATE"},"loc":{"start":{"line":160},"end":{"line":160}}}],"loc":{"start":{"line":160},"end":{"line":160}}},"loc":{"start":{"line":160},"end":{"line":160}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"disciplinaryActionNotes","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":161},"end":{"line":161}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":161},"end":{"line":161}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":161},"end":{"line":161}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":161},"end":{"line":161}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":161},"end":{"line":161}}},"property":{"type":"Identifier","name":"DISCIPLINARY_NOTES"},"loc":{"start":{"line":161},"end":{"line":161}}}],"loc":{"start":{"line":161},"end":{"line":161}}},"loc":{"start":{"line":161},"end":{"line":161}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"personalDescription","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":162},"end":{"line":162}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":162},"end":{"line":162}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":162},"end":{"line":162}}},"property":{"type":"Identifier","name":"getParameter"},"loc":{"start":{"line":162},"end":{"line":162}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":162},"end":{"line":162}}},"property":{"type":"Identifier","name":"DESCRIPTION"},"loc":{"start":{"line":162},"end":{"line":162}}}],"loc":{"start":{"line":162},"end":{"line":162}}},"loc":{"start":{"line":162},"end":{"line":162}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":164},"end":{"line":164}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":164},"end":{"line":164}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Employee","loc":{"start":{"line":164},"end":{"line":164}}},"arguments":[{"type":"Identifier","name":"subjectId","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"firstName","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"lastName","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"ssn","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"title","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"phone","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"address1","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"address2","loc":{"start":{"line":164},"end":{"line":164}}},{"type":"Identifier","name":"manager","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"startDate","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"salary","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"ccn","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"ccnLimit","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"disciplinaryActionDate","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"disciplinaryActionNotes","loc":{"start":{"line":165},"end":{"line":165}}},{"type":"Identifier","name":"personalDescription","loc":{"start":{"line":166},"end":{"line":166}}}],"loc":{"start":{"line":164},"end":{"line":166}}},"loc":{"start":{"line":164},"end":{"line":166}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"employee","loc":{"start":{"line":168},"end":{"line":168}}},"loc":{"start":{"line":168},"end":{"line":168}}}],"loc":{"start":{"line":142},"end":{"line":169}}},"code":"\nprotected Employee parseEmployeeProfile_BACKUP(int subjectId, WebSession s) throws ParameterNotFoundException, ValidationException {\n    HttpServletRequest request \u003d s.getRequest();\n    String firstName \u003d request.getParameter(CrossSiteScripting.FIRST_NAME);\n    String lastName \u003d request.getParameter(CrossSiteScripting.LAST_NAME);\n    String ssn \u003d request.getParameter(CrossSiteScripting.SSN);\n    String title \u003d request.getParameter(CrossSiteScripting.TITLE);\n    String phone \u003d request.getParameter(CrossSiteScripting.PHONE_NUMBER);\n    String address1 \u003d request.getParameter(CrossSiteScripting.ADDRESS1);\n    String address2 \u003d request.getParameter(CrossSiteScripting.ADDRESS2);\n    int manager \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.MANAGER));\n    String startDate \u003d request.getParameter(CrossSiteScripting.START_DATE);\n    int salary \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.SALARY));\n    String ccn \u003d request.getParameter(CrossSiteScripting.CCN);\n    int ccnLimit \u003d Integer.parseInt(request.getParameter(CrossSiteScripting.CCN_LIMIT));\n    String disciplinaryActionDate \u003d request.getParameter(CrossSiteScripting.DISCIPLINARY_DATE);\n    String disciplinaryActionNotes \u003d request.getParameter(CrossSiteScripting.DISCIPLINARY_NOTES);\n    String personalDescription \u003d request.getParameter(CrossSiteScripting.DESCRIPTION);\n    Employee employee \u003d new Employee(subjectId, firstName, lastName, ssn, title, phone, address1, address2, manager, startDate, salary, ccn, ccnLimit, disciplinaryActionDate, disciplinaryActionNotes, personalDescription);\n    return employee;\n}","loc":{"start":{"line":140},"end":{"line":169}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"doParseEmployeeProfile"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":171},"end":{"line":171}}},"typarams":[],"params":[{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"parser","vartype":{"type":"Identifier","name":"ParameterParser","loc":{"start":{"line":171},"end":{"line":171}}}}],"thrown":[{"type":"Identifier","name":"ParameterNotFoundException","loc":{"start":{"line":171},"end":{"line":171}}},{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":172},"end":{"line":172}}}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal"},"loc":{"start":{"line":175},"end":{"line":175}}}],"loc":{"start":{"line":173},"end":{"line":176}}},"code":"\nprotected Employee doParseEmployeeProfile(int subjectId, ParameterParser parser) throws ParameterNotFoundException, ValidationException {\n    return null;\n}","loc":{"start":{"line":171},"end":{"line":176}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getNextPage"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":178},"end":{"line":178}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":178},"end":{"line":178}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"CrossSiteScripting","loc":{"start":{"line":180},"end":{"line":180}}},"property":{"type":"Identifier","name":"VIEWPROFILE_ACTION"},"loc":{"start":{"line":180},"end":{"line":180}}},"loc":{"start":{"line":180},"end":{"line":180}}}],"loc":{"start":{"line":179},"end":{"line":181}}},"code":"\npublic String getNextPage(WebSession s) {\n    return CrossSiteScripting.VIEWPROFILE_ACTION;\n}","loc":{"start":{"line":178},"end":{"line":181}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"changeEmployeeProfile"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":183},"end":{"line":183}}}},{"type":"Identifier","name":"userId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":183},"end":{"line":183}}}}],"thrown":[{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":184},"end":{"line":184}}}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":218},"end":{"line":218}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":220},"end":{"line":220}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":220},"end":{"line":220}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":220},"end":{"line":220}}},"loc":{"start":{"line":220},"end":{"line":220}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":221},"end":{"line":221}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":221},"end":{"line":221}}},"arguments":[],"loc":{"start":{"line":221},"end":{"line":221}}},"loc":{"start":{"line":221},"end":{"line":221}}}],"loc":{"start":{"line":219},"end":{"line":222}}},"loc":{"start":{"line":218},"end":{"line":222}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"query","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":189},"end":{"line":189}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":189},"end":{"line":189}}},"init":{"type":"Literal","value":"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;","raw":"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;"},"loc":{"start":{"line":189},"end":{"line":191}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":212},"end":{"line":212}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":214},"end":{"line":214}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":214},"end":{"line":214}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":214},"end":{"line":214}}},"loc":{"start":{"line":214},"end":{"line":214}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":215},"end":{"line":215}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":215},"end":{"line":215}}},"arguments":[],"loc":{"start":{"line":215},"end":{"line":215}}},"loc":{"start":{"line":215},"end":{"line":215}}}],"loc":{"start":{"line":213},"end":{"line":216}}},"loc":{"start":{"line":212},"end":{"line":216}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ps","vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":194},"end":{"line":194}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":194},"end":{"line":194}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":194},"end":{"line":194}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":194},"end":{"line":194}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":194},"end":{"line":194}}}],"loc":{"start":{"line":194},"end":{"line":194}}},"property":{"type":"Identifier","name":"prepareStatement"},"loc":{"start":{"line":194},"end":{"line":194}}},"arguments":[{"type":"Identifier","name":"query","loc":{"start":{"line":194},"end":{"line":194}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":195},"end":{"line":195}}},"property":{"type":"Identifier","name":"TYPE_SCROLL_INSENSITIVE"},"loc":{"start":{"line":195},"end":{"line":195}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":196},"end":{"line":196}}},"property":{"type":"Identifier","name":"CONCUR_READ_ONLY"},"loc":{"start":{"line":196},"end":{"line":196}}}],"loc":{"start":{"line":194},"end":{"line":196}}},"loc":{"start":{"line":194},"end":{"line":196}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":198},"end":{"line":198}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":198},"end":{"line":198}}},"arguments":[{"type":"Literal","value":1,"raw":1},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":198},"end":{"line":198}}},"property":{"type":"Identifier","name":"getFirstName"},"loc":{"start":{"line":198},"end":{"line":198}}},"arguments":[],"loc":{"start":{"line":198},"end":{"line":198}}}],"loc":{"start":{"line":198},"end":{"line":198}}},"loc":{"start":{"line":198},"end":{"line":198}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":199},"end":{"line":199}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":199},"end":{"line":199}}},"arguments":[{"type":"Literal","value":2,"raw":2},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":199},"end":{"line":199}}},"property":{"type":"Identifier","name":"getLastName"},"loc":{"start":{"line":199},"end":{"line":199}}},"arguments":[],"loc":{"start":{"line":199},"end":{"line":199}}}],"loc":{"start":{"line":199},"end":{"line":199}}},"loc":{"start":{"line":199},"end":{"line":199}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":200},"end":{"line":200}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":200},"end":{"line":200}}},"arguments":[{"type":"Literal","value":3,"raw":3},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":200},"end":{"line":200}}},"property":{"type":"Identifier","name":"getSsn"},"loc":{"start":{"line":200},"end":{"line":200}}},"arguments":[],"loc":{"start":{"line":200},"end":{"line":200}}}],"loc":{"start":{"line":200},"end":{"line":200}}},"loc":{"start":{"line":200},"end":{"line":200}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":201},"end":{"line":201}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":201},"end":{"line":201}}},"arguments":[{"type":"Literal","value":4,"raw":4},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":201},"end":{"line":201}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":201},"end":{"line":201}}},"arguments":[],"loc":{"start":{"line":201},"end":{"line":201}}}],"loc":{"start":{"line":201},"end":{"line":201}}},"loc":{"start":{"line":201},"end":{"line":201}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":202},"end":{"line":202}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":202},"end":{"line":202}}},"arguments":[{"type":"Literal","value":5,"raw":5},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":202},"end":{"line":202}}},"property":{"type":"Identifier","name":"getPhoneNumber"},"loc":{"start":{"line":202},"end":{"line":202}}},"arguments":[],"loc":{"start":{"line":202},"end":{"line":202}}}],"loc":{"start":{"line":202},"end":{"line":202}}},"loc":{"start":{"line":202},"end":{"line":202}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":203},"end":{"line":203}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":203},"end":{"line":203}}},"arguments":[{"type":"Literal","value":6,"raw":6},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":203},"end":{"line":203}}},"property":{"type":"Identifier","name":"getAddress1"},"loc":{"start":{"line":203},"end":{"line":203}}},"arguments":[],"loc":{"start":{"line":203},"end":{"line":203}}}],"loc":{"start":{"line":203},"end":{"line":203}}},"loc":{"start":{"line":203},"end":{"line":203}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":204},"end":{"line":204}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":204},"end":{"line":204}}},"arguments":[{"type":"Literal","value":7,"raw":7},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":204},"end":{"line":204}}},"property":{"type":"Identifier","name":"getAddress2"},"loc":{"start":{"line":204},"end":{"line":204}}},"arguments":[],"loc":{"start":{"line":204},"end":{"line":204}}}],"loc":{"start":{"line":204},"end":{"line":204}}},"loc":{"start":{"line":204},"end":{"line":204}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":205},"end":{"line":205}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":205},"end":{"line":205}}},"arguments":[{"type":"Literal","value":8,"raw":8},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":205},"end":{"line":205}}},"property":{"type":"Identifier","name":"getManager"},"loc":{"start":{"line":205},"end":{"line":205}}},"arguments":[],"loc":{"start":{"line":205},"end":{"line":205}}}],"loc":{"start":{"line":205},"end":{"line":205}}},"loc":{"start":{"line":205},"end":{"line":205}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":206},"end":{"line":206}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":206},"end":{"line":206}}},"arguments":[{"type":"Literal","value":9,"raw":9},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":206},"end":{"line":206}}},"property":{"type":"Identifier","name":"getStartDate"},"loc":{"start":{"line":206},"end":{"line":206}}},"arguments":[],"loc":{"start":{"line":206},"end":{"line":206}}}],"loc":{"start":{"line":206},"end":{"line":206}}},"loc":{"start":{"line":206},"end":{"line":206}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":207},"end":{"line":207}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":207},"end":{"line":207}}},"arguments":[{"type":"Literal","value":10,"raw":10},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":207},"end":{"line":207}}},"property":{"type":"Identifier","name":"getCcn"},"loc":{"start":{"line":207},"end":{"line":207}}},"arguments":[],"loc":{"start":{"line":207},"end":{"line":207}}}],"loc":{"start":{"line":207},"end":{"line":207}}},"loc":{"start":{"line":207},"end":{"line":207}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":208},"end":{"line":208}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":208},"end":{"line":208}}},"arguments":[{"type":"Literal","value":11,"raw":11},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":208},"end":{"line":208}}},"property":{"type":"Identifier","name":"getCcnLimit"},"loc":{"start":{"line":208},"end":{"line":208}}},"arguments":[],"loc":{"start":{"line":208},"end":{"line":208}}}],"loc":{"start":{"line":208},"end":{"line":208}}},"loc":{"start":{"line":208},"end":{"line":208}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":209},"end":{"line":209}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":209},"end":{"line":209}}},"arguments":[{"type":"Literal","value":12,"raw":12},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":209},"end":{"line":209}}},"property":{"type":"Identifier","name":"getPersonalDescription"},"loc":{"start":{"line":209},"end":{"line":209}}},"arguments":[],"loc":{"start":{"line":209},"end":{"line":209}}}],"loc":{"start":{"line":209},"end":{"line":209}}},"loc":{"start":{"line":209},"end":{"line":209}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":210},"end":{"line":210}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":210},"end":{"line":210}}},"arguments":[{"type":"Literal","value":13,"raw":13},{"type":"Identifier","name":"subjectId","loc":{"start":{"line":210},"end":{"line":210}}}],"loc":{"start":{"line":210},"end":{"line":210}}},"loc":{"start":{"line":210},"end":{"line":210}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":211},"end":{"line":211}}},"property":{"type":"Identifier","name":"execute"},"loc":{"start":{"line":211},"end":{"line":211}}},"arguments":[],"loc":{"start":{"line":211},"end":{"line":211}}},"loc":{"start":{"line":211},"end":{"line":211}}}],"loc":{"start":{"line":193},"end":{"line":212}}},"loc":{"start":{"line":192},"end":{"line":216}}}],"loc":{"start":{"line":187},"end":{"line":218}}},"loc":{"start":{"line":186},"end":{"line":222}}}],"loc":{"start":{"line":185},"end":{"line":223}}},"code":"\npublic void changeEmployeeProfile(WebSession s, int userId, int subjectId, Employee employee) throws UnauthorizedException {\n    try {\n        String query \u003d \"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;\";\n        try {\n            PreparedStatement ps \u003d WebSession.getConnection(s).prepareStatement(query, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\n            ps.setString(1, employee.getFirstName());\n            ps.setString(2, employee.getLastName());\n            ps.setString(3, employee.getSsn());\n            ps.setString(4, employee.getTitle());\n            ps.setString(5, employee.getPhoneNumber());\n            ps.setString(6, employee.getAddress1());\n            ps.setString(7, employee.getAddress2());\n            ps.setInt(8, employee.getManager());\n            ps.setString(9, employee.getStartDate());\n            ps.setString(10, employee.getCcn());\n            ps.setInt(11, employee.getCcnLimit());\n            ps.setString(12, employee.getPersonalDescription());\n            ps.setInt(13, subjectId);\n            ps.execute();\n        } catch (SQLException sqle) {\n            s.setMessage(\"Error updating employee profile\");\n            sqle.printStackTrace();\n        }\n    } catch (Exception e) {\n        s.setMessage(\"Error updating employee profile\");\n        e.printStackTrace();\n    }\n}","loc":{"start":{"line":183},"end":{"line":223}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"doChangeEmployeeProfile_BACKUP"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":225},"end":{"line":225}}}},{"type":"Identifier","name":"userId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"subjectId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":225},"end":{"line":225}}}}],"thrown":[{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":226},"end":{"line":226}}}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":260},"end":{"line":260}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":262},"end":{"line":262}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":262},"end":{"line":262}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":262},"end":{"line":262}}},"loc":{"start":{"line":262},"end":{"line":262}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":263},"end":{"line":263}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":263},"end":{"line":263}}},"arguments":[],"loc":{"start":{"line":263},"end":{"line":263}}},"loc":{"start":{"line":263},"end":{"line":263}}}],"loc":{"start":{"line":261},"end":{"line":264}}},"loc":{"start":{"line":260},"end":{"line":264}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"query","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":231},"end":{"line":231}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":231},"end":{"line":231}}},"init":{"type":"Literal","value":"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;","raw":"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;"},"loc":{"start":{"line":231},"end":{"line":233}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":254},"end":{"line":254}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":256},"end":{"line":256}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":256},"end":{"line":256}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":256},"end":{"line":256}}},"loc":{"start":{"line":256},"end":{"line":256}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":257},"end":{"line":257}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":257},"end":{"line":257}}},"arguments":[],"loc":{"start":{"line":257},"end":{"line":257}}},"loc":{"start":{"line":257},"end":{"line":257}}}],"loc":{"start":{"line":255},"end":{"line":258}}},"loc":{"start":{"line":254},"end":{"line":258}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ps","vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":236},"end":{"line":236}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":236},"end":{"line":236}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":236},"end":{"line":236}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":236},"end":{"line":236}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":236},"end":{"line":236}}}],"loc":{"start":{"line":236},"end":{"line":236}}},"property":{"type":"Identifier","name":"prepareStatement"},"loc":{"start":{"line":236},"end":{"line":236}}},"arguments":[{"type":"Identifier","name":"query","loc":{"start":{"line":236},"end":{"line":236}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":237},"end":{"line":237}}},"property":{"type":"Identifier","name":"TYPE_SCROLL_INSENSITIVE"},"loc":{"start":{"line":237},"end":{"line":237}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":238},"end":{"line":238}}},"property":{"type":"Identifier","name":"CONCUR_READ_ONLY"},"loc":{"start":{"line":238},"end":{"line":238}}}],"loc":{"start":{"line":236},"end":{"line":238}}},"loc":{"start":{"line":236},"end":{"line":238}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":240},"end":{"line":240}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":240},"end":{"line":240}}},"arguments":[{"type":"Literal","value":1,"raw":1},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":240},"end":{"line":240}}},"property":{"type":"Identifier","name":"getFirstName"},"loc":{"start":{"line":240},"end":{"line":240}}},"arguments":[],"loc":{"start":{"line":240},"end":{"line":240}}}],"loc":{"start":{"line":240},"end":{"line":240}}},"loc":{"start":{"line":240},"end":{"line":240}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":241},"end":{"line":241}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":241},"end":{"line":241}}},"arguments":[{"type":"Literal","value":2,"raw":2},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":241},"end":{"line":241}}},"property":{"type":"Identifier","name":"getLastName"},"loc":{"start":{"line":241},"end":{"line":241}}},"arguments":[],"loc":{"start":{"line":241},"end":{"line":241}}}],"loc":{"start":{"line":241},"end":{"line":241}}},"loc":{"start":{"line":241},"end":{"line":241}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":242},"end":{"line":242}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":242},"end":{"line":242}}},"arguments":[{"type":"Literal","value":3,"raw":3},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":242},"end":{"line":242}}},"property":{"type":"Identifier","name":"getSsn"},"loc":{"start":{"line":242},"end":{"line":242}}},"arguments":[],"loc":{"start":{"line":242},"end":{"line":242}}}],"loc":{"start":{"line":242},"end":{"line":242}}},"loc":{"start":{"line":242},"end":{"line":242}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":243},"end":{"line":243}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":243},"end":{"line":243}}},"arguments":[{"type":"Literal","value":4,"raw":4},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":243},"end":{"line":243}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":243},"end":{"line":243}}},"arguments":[],"loc":{"start":{"line":243},"end":{"line":243}}}],"loc":{"start":{"line":243},"end":{"line":243}}},"loc":{"start":{"line":243},"end":{"line":243}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":244},"end":{"line":244}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":244},"end":{"line":244}}},"arguments":[{"type":"Literal","value":5,"raw":5},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":244},"end":{"line":244}}},"property":{"type":"Identifier","name":"getPhoneNumber"},"loc":{"start":{"line":244},"end":{"line":244}}},"arguments":[],"loc":{"start":{"line":244},"end":{"line":244}}}],"loc":{"start":{"line":244},"end":{"line":244}}},"loc":{"start":{"line":244},"end":{"line":244}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":245},"end":{"line":245}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":245},"end":{"line":245}}},"arguments":[{"type":"Literal","value":6,"raw":6},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":245},"end":{"line":245}}},"property":{"type":"Identifier","name":"getAddress1"},"loc":{"start":{"line":245},"end":{"line":245}}},"arguments":[],"loc":{"start":{"line":245},"end":{"line":245}}}],"loc":{"start":{"line":245},"end":{"line":245}}},"loc":{"start":{"line":245},"end":{"line":245}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":246},"end":{"line":246}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":246},"end":{"line":246}}},"arguments":[{"type":"Literal","value":7,"raw":7},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":246},"end":{"line":246}}},"property":{"type":"Identifier","name":"getAddress2"},"loc":{"start":{"line":246},"end":{"line":246}}},"arguments":[],"loc":{"start":{"line":246},"end":{"line":246}}}],"loc":{"start":{"line":246},"end":{"line":246}}},"loc":{"start":{"line":246},"end":{"line":246}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":247},"end":{"line":247}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":247},"end":{"line":247}}},"arguments":[{"type":"Literal","value":8,"raw":8},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":247},"end":{"line":247}}},"property":{"type":"Identifier","name":"getManager"},"loc":{"start":{"line":247},"end":{"line":247}}},"arguments":[],"loc":{"start":{"line":247},"end":{"line":247}}}],"loc":{"start":{"line":247},"end":{"line":247}}},"loc":{"start":{"line":247},"end":{"line":247}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":248},"end":{"line":248}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":248},"end":{"line":248}}},"arguments":[{"type":"Literal","value":9,"raw":9},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":248},"end":{"line":248}}},"property":{"type":"Identifier","name":"getStartDate"},"loc":{"start":{"line":248},"end":{"line":248}}},"arguments":[],"loc":{"start":{"line":248},"end":{"line":248}}}],"loc":{"start":{"line":248},"end":{"line":248}}},"loc":{"start":{"line":248},"end":{"line":248}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":249},"end":{"line":249}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":249},"end":{"line":249}}},"arguments":[{"type":"Literal","value":10,"raw":10},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":249},"end":{"line":249}}},"property":{"type":"Identifier","name":"getCcn"},"loc":{"start":{"line":249},"end":{"line":249}}},"arguments":[],"loc":{"start":{"line":249},"end":{"line":249}}}],"loc":{"start":{"line":249},"end":{"line":249}}},"loc":{"start":{"line":249},"end":{"line":249}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":250},"end":{"line":250}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":250},"end":{"line":250}}},"arguments":[{"type":"Literal","value":11,"raw":11},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":250},"end":{"line":250}}},"property":{"type":"Identifier","name":"getCcnLimit"},"loc":{"start":{"line":250},"end":{"line":250}}},"arguments":[],"loc":{"start":{"line":250},"end":{"line":250}}}],"loc":{"start":{"line":250},"end":{"line":250}}},"loc":{"start":{"line":250},"end":{"line":250}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":251},"end":{"line":251}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":251},"end":{"line":251}}},"arguments":[{"type":"Literal","value":12,"raw":12},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":251},"end":{"line":251}}},"property":{"type":"Identifier","name":"getPersonalDescription"},"loc":{"start":{"line":251},"end":{"line":251}}},"arguments":[],"loc":{"start":{"line":251},"end":{"line":251}}}],"loc":{"start":{"line":251},"end":{"line":251}}},"loc":{"start":{"line":251},"end":{"line":251}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":252},"end":{"line":252}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":252},"end":{"line":252}}},"arguments":[{"type":"Literal","value":13,"raw":13},{"type":"Identifier","name":"subjectId","loc":{"start":{"line":252},"end":{"line":252}}}],"loc":{"start":{"line":252},"end":{"line":252}}},"loc":{"start":{"line":252},"end":{"line":252}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":253},"end":{"line":253}}},"property":{"type":"Identifier","name":"executeUpdate"},"loc":{"start":{"line":253},"end":{"line":253}}},"arguments":[{"type":"Identifier","name":"query","loc":{"start":{"line":253},"end":{"line":253}}}],"loc":{"start":{"line":253},"end":{"line":253}}},"loc":{"start":{"line":253},"end":{"line":253}}}],"loc":{"start":{"line":235},"end":{"line":254}}},"loc":{"start":{"line":234},"end":{"line":258}}}],"loc":{"start":{"line":229},"end":{"line":260}}},"loc":{"start":{"line":228},"end":{"line":264}}}],"loc":{"start":{"line":227},"end":{"line":265}}},"code":"\npublic void doChangeEmployeeProfile_BACKUP(WebSession s, int userId, int subjectId, Employee employee) throws UnauthorizedException {\n    try {\n        String query \u003d \"UPDATE employee SET first_name \u003d ?, last_name \u003d ?, ssn \u003d ?, title \u003d ?, phone \u003d ?, address1 \u003d ?, address2 \u003d ?, manager \u003d ?, start_date \u003d ?, ccn \u003d ?, ccn_limit \u003d ?, personal_description \u003d ? WHERE userid \u003d ?;\";\n        try {\n            PreparedStatement ps \u003d WebSession.getConnection(s).prepareStatement(query, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\n            ps.setString(1, employee.getFirstName());\n            ps.setString(2, employee.getLastName());\n            ps.setString(3, employee.getSsn());\n            ps.setString(4, employee.getTitle());\n            ps.setString(5, employee.getPhoneNumber());\n            ps.setString(6, employee.getAddress1());\n            ps.setString(7, employee.getAddress2());\n            ps.setInt(8, employee.getManager());\n            ps.setString(9, employee.getStartDate());\n            ps.setString(10, employee.getCcn());\n            ps.setInt(11, employee.getCcnLimit());\n            ps.setString(12, employee.getPersonalDescription());\n            ps.setInt(13, subjectId);\n            ps.executeUpdate(query);\n        } catch (SQLException sqle) {\n            s.setMessage(\"Error updating employee profile\");\n            sqle.printStackTrace();\n        }\n    } catch (Exception e) {\n        s.setMessage(\"Error updating employee profile\");\n        e.printStackTrace();\n    }\n}","loc":{"start":{"line":225},"end":{"line":265}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"createEmployeeProfile"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":267},"end":{"line":267}}}},{"type":"Identifier","name":"userId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":267},"end":{"line":267}}}}],"thrown":[{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":267},"end":{"line":267}}}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":302},"end":{"line":302}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":304},"end":{"line":304}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":304},"end":{"line":304}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":304},"end":{"line":304}}},"loc":{"start":{"line":304},"end":{"line":304}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":305},"end":{"line":305}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":305},"end":{"line":305}}},"arguments":[],"loc":{"start":{"line":305},"end":{"line":305}}},"loc":{"start":{"line":305},"end":{"line":305}}}],"loc":{"start":{"line":303},"end":{"line":306}}},"loc":{"start":{"line":302},"end":{"line":306}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextId","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getNextUID","loc":{"start":{"line":272},"end":{"line":272}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":272},"end":{"line":272}}}],"loc":{"start":{"line":272},"end":{"line":272}}},"loc":{"start":{"line":272},"end":{"line":272}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"query","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":273},"end":{"line":273}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":273},"end":{"line":273}}},"init":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"INSERT INTO employee VALUES ( ","raw":"INSERT INTO employee VALUES ( "},"right":{"type":"Identifier","name":"nextId","loc":{"start":{"line":273},"end":{"line":273}}},"loc":{"start":{"line":273},"end":{"line":273}}},"right":{"type":"Literal","value":", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)","raw":", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)"},"loc":{"start":{"line":273},"end":{"line":273}}},"loc":{"start":{"line":273},"end":{"line":273}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":297},"end":{"line":297}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":299},"end":{"line":299}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":299},"end":{"line":299}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":299},"end":{"line":299}}},"loc":{"start":{"line":299},"end":{"line":299}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":300},"end":{"line":300}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":300},"end":{"line":300}}},"arguments":[],"loc":{"start":{"line":300},"end":{"line":300}}},"loc":{"start":{"line":300},"end":{"line":300}}}],"loc":{"start":{"line":298},"end":{"line":301}}},"loc":{"start":{"line":297},"end":{"line":301}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ps","vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":279},"end":{"line":279}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":279},"end":{"line":279}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":279},"end":{"line":279}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":279},"end":{"line":279}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":279},"end":{"line":279}}}],"loc":{"start":{"line":279},"end":{"line":279}}},"property":{"type":"Identifier","name":"prepareStatement"},"loc":{"start":{"line":279},"end":{"line":279}}},"arguments":[{"type":"Identifier","name":"query","loc":{"start":{"line":279},"end":{"line":279}}}],"loc":{"start":{"line":279},"end":{"line":279}}},"loc":{"start":{"line":279},"end":{"line":279}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":281},"end":{"line":281}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":281},"end":{"line":281}}},"arguments":[{"type":"Literal","value":1,"raw":1},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":281},"end":{"line":281}}},"property":{"type":"Identifier","name":"getFirstName"},"loc":{"start":{"line":281},"end":{"line":281}}},"arguments":[],"loc":{"start":{"line":281},"end":{"line":281}}},"property":{"type":"Identifier","name":"toLowerCase"},"loc":{"start":{"line":281},"end":{"line":281}}},"arguments":[],"loc":{"start":{"line":281},"end":{"line":281}}}],"loc":{"start":{"line":281},"end":{"line":281}}},"loc":{"start":{"line":281},"end":{"line":281}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":282},"end":{"line":282}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":282},"end":{"line":282}}},"arguments":[{"type":"Literal","value":2,"raw":2},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":282},"end":{"line":282}}},"property":{"type":"Identifier","name":"getLastName"},"loc":{"start":{"line":282},"end":{"line":282}}},"arguments":[],"loc":{"start":{"line":282},"end":{"line":282}}}],"loc":{"start":{"line":282},"end":{"line":282}}},"loc":{"start":{"line":282},"end":{"line":282}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":283},"end":{"line":283}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":283},"end":{"line":283}}},"arguments":[{"type":"Literal","value":3,"raw":3},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":283},"end":{"line":283}}},"property":{"type":"Identifier","name":"getSsn"},"loc":{"start":{"line":283},"end":{"line":283}}},"arguments":[],"loc":{"start":{"line":283},"end":{"line":283}}}],"loc":{"start":{"line":283},"end":{"line":283}}},"loc":{"start":{"line":283},"end":{"line":283}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":284},"end":{"line":284}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":284},"end":{"line":284}}},"arguments":[{"type":"Literal","value":4,"raw":4},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":284},"end":{"line":284}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":284},"end":{"line":284}}},"arguments":[],"loc":{"start":{"line":284},"end":{"line":284}}}],"loc":{"start":{"line":284},"end":{"line":284}}},"loc":{"start":{"line":284},"end":{"line":284}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":285},"end":{"line":285}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":285},"end":{"line":285}}},"arguments":[{"type":"Literal","value":5,"raw":5},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":285},"end":{"line":285}}},"property":{"type":"Identifier","name":"getPhoneNumber"},"loc":{"start":{"line":285},"end":{"line":285}}},"arguments":[],"loc":{"start":{"line":285},"end":{"line":285}}}],"loc":{"start":{"line":285},"end":{"line":285}}},"loc":{"start":{"line":285},"end":{"line":285}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":286},"end":{"line":286}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":286},"end":{"line":286}}},"arguments":[{"type":"Literal","value":6,"raw":6},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":286},"end":{"line":286}}},"property":{"type":"Identifier","name":"getAddress1"},"loc":{"start":{"line":286},"end":{"line":286}}},"arguments":[],"loc":{"start":{"line":286},"end":{"line":286}}}],"loc":{"start":{"line":286},"end":{"line":286}}},"loc":{"start":{"line":286},"end":{"line":286}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":287},"end":{"line":287}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":287},"end":{"line":287}}},"arguments":[{"type":"Literal","value":7,"raw":7},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":287},"end":{"line":287}}},"property":{"type":"Identifier","name":"getAddress2"},"loc":{"start":{"line":287},"end":{"line":287}}},"arguments":[],"loc":{"start":{"line":287},"end":{"line":287}}}],"loc":{"start":{"line":287},"end":{"line":287}}},"loc":{"start":{"line":287},"end":{"line":287}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":288},"end":{"line":288}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":288},"end":{"line":288}}},"arguments":[{"type":"Literal","value":8,"raw":8},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":288},"end":{"line":288}}},"property":{"type":"Identifier","name":"getManager"},"loc":{"start":{"line":288},"end":{"line":288}}},"arguments":[],"loc":{"start":{"line":288},"end":{"line":288}}}],"loc":{"start":{"line":288},"end":{"line":288}}},"loc":{"start":{"line":288},"end":{"line":288}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":289},"end":{"line":289}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":289},"end":{"line":289}}},"arguments":[{"type":"Literal","value":9,"raw":9},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":289},"end":{"line":289}}},"property":{"type":"Identifier","name":"getStartDate"},"loc":{"start":{"line":289},"end":{"line":289}}},"arguments":[],"loc":{"start":{"line":289},"end":{"line":289}}}],"loc":{"start":{"line":289},"end":{"line":289}}},"loc":{"start":{"line":289},"end":{"line":289}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":290},"end":{"line":290}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":290},"end":{"line":290}}},"arguments":[{"type":"Literal","value":10,"raw":10},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":290},"end":{"line":290}}},"property":{"type":"Identifier","name":"getCcn"},"loc":{"start":{"line":290},"end":{"line":290}}},"arguments":[],"loc":{"start":{"line":290},"end":{"line":290}}}],"loc":{"start":{"line":290},"end":{"line":290}}},"loc":{"start":{"line":290},"end":{"line":290}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":291},"end":{"line":291}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":291},"end":{"line":291}}},"arguments":[{"type":"Literal","value":11,"raw":11},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":291},"end":{"line":291}}},"property":{"type":"Identifier","name":"getCcnLimit"},"loc":{"start":{"line":291},"end":{"line":291}}},"arguments":[],"loc":{"start":{"line":291},"end":{"line":291}}}],"loc":{"start":{"line":291},"end":{"line":291}}},"loc":{"start":{"line":291},"end":{"line":291}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":292},"end":{"line":292}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":292},"end":{"line":292}}},"arguments":[{"type":"Literal","value":12,"raw":12},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":292},"end":{"line":292}}},"property":{"type":"Identifier","name":"getDisciplinaryActionDate"},"loc":{"start":{"line":292},"end":{"line":292}}},"arguments":[],"loc":{"start":{"line":292},"end":{"line":292}}}],"loc":{"start":{"line":292},"end":{"line":292}}},"loc":{"start":{"line":292},"end":{"line":292}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":293},"end":{"line":293}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":293},"end":{"line":293}}},"arguments":[{"type":"Literal","value":13,"raw":13},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":293},"end":{"line":293}}},"property":{"type":"Identifier","name":"getDisciplinaryActionNotes"},"loc":{"start":{"line":293},"end":{"line":293}}},"arguments":[],"loc":{"start":{"line":293},"end":{"line":293}}}],"loc":{"start":{"line":293},"end":{"line":293}}},"loc":{"start":{"line":293},"end":{"line":293}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":294},"end":{"line":294}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":294},"end":{"line":294}}},"arguments":[{"type":"Literal","value":14,"raw":14},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":294},"end":{"line":294}}},"property":{"type":"Identifier","name":"getPersonalDescription"},"loc":{"start":{"line":294},"end":{"line":294}}},"arguments":[],"loc":{"start":{"line":294},"end":{"line":294}}}],"loc":{"start":{"line":294},"end":{"line":294}}},"loc":{"start":{"line":294},"end":{"line":294}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":296},"end":{"line":296}}},"property":{"type":"Identifier","name":"execute"},"loc":{"start":{"line":296},"end":{"line":296}}},"arguments":[],"loc":{"start":{"line":296},"end":{"line":296}}},"loc":{"start":{"line":296},"end":{"line":296}}}],"loc":{"start":{"line":278},"end":{"line":297}}},"loc":{"start":{"line":277},"end":{"line":301}}}],"loc":{"start":{"line":270},"end":{"line":302}}},"loc":{"start":{"line":269},"end":{"line":306}}}],"loc":{"start":{"line":268},"end":{"line":307}}},"code":"\npublic void createEmployeeProfile(WebSession s, int userId, Employee employee) throws UnauthorizedException {\n    try {\n        int nextId \u003d getNextUID(s);\n        String query \u003d \"INSERT INTO employee VALUES ( \" + nextId + \", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)\";\n        try {\n            PreparedStatement ps \u003d WebSession.getConnection(s).prepareStatement(query);\n            ps.setString(1, employee.getFirstName().toLowerCase());\n            ps.setString(2, employee.getLastName());\n            ps.setString(3, employee.getSsn());\n            ps.setString(4, employee.getTitle());\n            ps.setString(5, employee.getPhoneNumber());\n            ps.setString(6, employee.getAddress1());\n            ps.setString(7, employee.getAddress2());\n            ps.setInt(8, employee.getManager());\n            ps.setString(9, employee.getStartDate());\n            ps.setString(10, employee.getCcn());\n            ps.setInt(11, employee.getCcnLimit());\n            ps.setString(12, employee.getDisciplinaryActionDate());\n            ps.setString(13, employee.getDisciplinaryActionNotes());\n            ps.setString(14, employee.getPersonalDescription());\n            ps.execute();\n        } catch (SQLException sqle) {\n            s.setMessage(\"Error updating employee profile\");\n            sqle.printStackTrace();\n        }\n    } catch (Exception e) {\n        s.setMessage(\"Error updating employee profile\");\n        e.printStackTrace();\n    }\n}","loc":{"start":{"line":267},"end":{"line":307}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"createEmployeeProfile_BACKUP"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":309},"end":{"line":309}}}},{"type":"Identifier","name":"userId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"employee","vartype":{"type":"Identifier","name":"Employee","loc":{"start":{"line":309},"end":{"line":309}}}}],"thrown":[{"type":"Identifier","name":"UnauthorizedException","loc":{"start":{"line":309},"end":{"line":309}}}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":344},"end":{"line":344}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":346},"end":{"line":346}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":346},"end":{"line":346}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":346},"end":{"line":346}}},"loc":{"start":{"line":346},"end":{"line":346}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"e","loc":{"start":{"line":347},"end":{"line":347}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":347},"end":{"line":347}}},"arguments":[],"loc":{"start":{"line":347},"end":{"line":347}}},"loc":{"start":{"line":347},"end":{"line":347}}}],"loc":{"start":{"line":345},"end":{"line":348}}},"loc":{"start":{"line":344},"end":{"line":348}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nextId","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getNextUID","loc":{"start":{"line":314},"end":{"line":314}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":314},"end":{"line":314}}}],"loc":{"start":{"line":314},"end":{"line":314}}},"loc":{"start":{"line":314},"end":{"line":314}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"query","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":315},"end":{"line":315}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":315},"end":{"line":315}}},"init":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"INSERT INTO employee VALUES ( ","raw":"INSERT INTO employee VALUES ( "},"right":{"type":"Identifier","name":"nextId","loc":{"start":{"line":315},"end":{"line":315}}},"loc":{"start":{"line":315},"end":{"line":315}}},"right":{"type":"Literal","value":", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)","raw":", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)"},"loc":{"start":{"line":315},"end":{"line":315}}},"loc":{"start":{"line":315},"end":{"line":315}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":339},"end":{"line":339}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":341},"end":{"line":341}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":341},"end":{"line":341}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":341},"end":{"line":341}}},"loc":{"start":{"line":341},"end":{"line":341}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":342},"end":{"line":342}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":342},"end":{"line":342}}},"arguments":[],"loc":{"start":{"line":342},"end":{"line":342}}},"loc":{"start":{"line":342},"end":{"line":342}}}],"loc":{"start":{"line":340},"end":{"line":343}}},"loc":{"start":{"line":339},"end":{"line":343}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ps","vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":321},"end":{"line":321}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"PreparedStatement","loc":{"start":{"line":321},"end":{"line":321}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":321},"end":{"line":321}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":321},"end":{"line":321}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":321},"end":{"line":321}}}],"loc":{"start":{"line":321},"end":{"line":321}}},"property":{"type":"Identifier","name":"prepareStatement"},"loc":{"start":{"line":321},"end":{"line":321}}},"arguments":[{"type":"Identifier","name":"query","loc":{"start":{"line":321},"end":{"line":321}}}],"loc":{"start":{"line":321},"end":{"line":321}}},"loc":{"start":{"line":321},"end":{"line":321}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":323},"end":{"line":323}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":323},"end":{"line":323}}},"arguments":[{"type":"Literal","value":1,"raw":1},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":323},"end":{"line":323}}},"property":{"type":"Identifier","name":"getFirstName"},"loc":{"start":{"line":323},"end":{"line":323}}},"arguments":[],"loc":{"start":{"line":323},"end":{"line":323}}},"property":{"type":"Identifier","name":"toLowerCase"},"loc":{"start":{"line":323},"end":{"line":323}}},"arguments":[],"loc":{"start":{"line":323},"end":{"line":323}}}],"loc":{"start":{"line":323},"end":{"line":323}}},"loc":{"start":{"line":323},"end":{"line":323}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":324},"end":{"line":324}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":324},"end":{"line":324}}},"arguments":[{"type":"Literal","value":2,"raw":2},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":324},"end":{"line":324}}},"property":{"type":"Identifier","name":"getLastName"},"loc":{"start":{"line":324},"end":{"line":324}}},"arguments":[],"loc":{"start":{"line":324},"end":{"line":324}}}],"loc":{"start":{"line":324},"end":{"line":324}}},"loc":{"start":{"line":324},"end":{"line":324}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":325},"end":{"line":325}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":325},"end":{"line":325}}},"arguments":[{"type":"Literal","value":3,"raw":3},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":325},"end":{"line":325}}},"property":{"type":"Identifier","name":"getSsn"},"loc":{"start":{"line":325},"end":{"line":325}}},"arguments":[],"loc":{"start":{"line":325},"end":{"line":325}}}],"loc":{"start":{"line":325},"end":{"line":325}}},"loc":{"start":{"line":325},"end":{"line":325}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":326},"end":{"line":326}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":326},"end":{"line":326}}},"arguments":[{"type":"Literal","value":4,"raw":4},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":326},"end":{"line":326}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":326},"end":{"line":326}}},"arguments":[],"loc":{"start":{"line":326},"end":{"line":326}}}],"loc":{"start":{"line":326},"end":{"line":326}}},"loc":{"start":{"line":326},"end":{"line":326}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":327},"end":{"line":327}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":327},"end":{"line":327}}},"arguments":[{"type":"Literal","value":5,"raw":5},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":327},"end":{"line":327}}},"property":{"type":"Identifier","name":"getPhoneNumber"},"loc":{"start":{"line":327},"end":{"line":327}}},"arguments":[],"loc":{"start":{"line":327},"end":{"line":327}}}],"loc":{"start":{"line":327},"end":{"line":327}}},"loc":{"start":{"line":327},"end":{"line":327}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":328},"end":{"line":328}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":328},"end":{"line":328}}},"arguments":[{"type":"Literal","value":6,"raw":6},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":328},"end":{"line":328}}},"property":{"type":"Identifier","name":"getAddress1"},"loc":{"start":{"line":328},"end":{"line":328}}},"arguments":[],"loc":{"start":{"line":328},"end":{"line":328}}}],"loc":{"start":{"line":328},"end":{"line":328}}},"loc":{"start":{"line":328},"end":{"line":328}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":329},"end":{"line":329}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":329},"end":{"line":329}}},"arguments":[{"type":"Literal","value":7,"raw":7},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":329},"end":{"line":329}}},"property":{"type":"Identifier","name":"getAddress2"},"loc":{"start":{"line":329},"end":{"line":329}}},"arguments":[],"loc":{"start":{"line":329},"end":{"line":329}}}],"loc":{"start":{"line":329},"end":{"line":329}}},"loc":{"start":{"line":329},"end":{"line":329}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":330},"end":{"line":330}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":330},"end":{"line":330}}},"arguments":[{"type":"Literal","value":8,"raw":8},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":330},"end":{"line":330}}},"property":{"type":"Identifier","name":"getManager"},"loc":{"start":{"line":330},"end":{"line":330}}},"arguments":[],"loc":{"start":{"line":330},"end":{"line":330}}}],"loc":{"start":{"line":330},"end":{"line":330}}},"loc":{"start":{"line":330},"end":{"line":330}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":331},"end":{"line":331}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":331},"end":{"line":331}}},"arguments":[{"type":"Literal","value":9,"raw":9},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":331},"end":{"line":331}}},"property":{"type":"Identifier","name":"getStartDate"},"loc":{"start":{"line":331},"end":{"line":331}}},"arguments":[],"loc":{"start":{"line":331},"end":{"line":331}}}],"loc":{"start":{"line":331},"end":{"line":331}}},"loc":{"start":{"line":331},"end":{"line":331}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":332},"end":{"line":332}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":332},"end":{"line":332}}},"arguments":[{"type":"Literal","value":10,"raw":10},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":332},"end":{"line":332}}},"property":{"type":"Identifier","name":"getCcn"},"loc":{"start":{"line":332},"end":{"line":332}}},"arguments":[],"loc":{"start":{"line":332},"end":{"line":332}}}],"loc":{"start":{"line":332},"end":{"line":332}}},"loc":{"start":{"line":332},"end":{"line":332}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":333},"end":{"line":333}}},"property":{"type":"Identifier","name":"setInt"},"loc":{"start":{"line":333},"end":{"line":333}}},"arguments":[{"type":"Literal","value":11,"raw":11},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":333},"end":{"line":333}}},"property":{"type":"Identifier","name":"getCcnLimit"},"loc":{"start":{"line":333},"end":{"line":333}}},"arguments":[],"loc":{"start":{"line":333},"end":{"line":333}}}],"loc":{"start":{"line":333},"end":{"line":333}}},"loc":{"start":{"line":333},"end":{"line":333}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":334},"end":{"line":334}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":334},"end":{"line":334}}},"arguments":[{"type":"Literal","value":12,"raw":12},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":334},"end":{"line":334}}},"property":{"type":"Identifier","name":"getDisciplinaryActionDate"},"loc":{"start":{"line":334},"end":{"line":334}}},"arguments":[],"loc":{"start":{"line":334},"end":{"line":334}}}],"loc":{"start":{"line":334},"end":{"line":334}}},"loc":{"start":{"line":334},"end":{"line":334}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":335},"end":{"line":335}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":335},"end":{"line":335}}},"arguments":[{"type":"Literal","value":13,"raw":13},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":335},"end":{"line":335}}},"property":{"type":"Identifier","name":"getDisciplinaryActionNotes"},"loc":{"start":{"line":335},"end":{"line":335}}},"arguments":[],"loc":{"start":{"line":335},"end":{"line":335}}}],"loc":{"start":{"line":335},"end":{"line":335}}},"loc":{"start":{"line":335},"end":{"line":335}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":336},"end":{"line":336}}},"property":{"type":"Identifier","name":"setString"},"loc":{"start":{"line":336},"end":{"line":336}}},"arguments":[{"type":"Literal","value":14,"raw":14},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"employee","loc":{"start":{"line":336},"end":{"line":336}}},"property":{"type":"Identifier","name":"getPersonalDescription"},"loc":{"start":{"line":336},"end":{"line":336}}},"arguments":[],"loc":{"start":{"line":336},"end":{"line":336}}}],"loc":{"start":{"line":336},"end":{"line":336}}},"loc":{"start":{"line":336},"end":{"line":336}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ps","loc":{"start":{"line":338},"end":{"line":338}}},"property":{"type":"Identifier","name":"execute"},"loc":{"start":{"line":338},"end":{"line":338}}},"arguments":[],"loc":{"start":{"line":338},"end":{"line":338}}},"loc":{"start":{"line":338},"end":{"line":338}}}],"loc":{"start":{"line":320},"end":{"line":339}}},"loc":{"start":{"line":319},"end":{"line":343}}}],"loc":{"start":{"line":312},"end":{"line":344}}},"loc":{"start":{"line":311},"end":{"line":348}}}],"loc":{"start":{"line":310},"end":{"line":349}}},"code":"\npublic void createEmployeeProfile_BACKUP(WebSession s, int userId, Employee employee) throws UnauthorizedException {\n    try {\n        int nextId \u003d getNextUID(s);\n        String query \u003d \"INSERT INTO employee VALUES ( \" + nextId + \", ?,?,?,?,?,?,?,?,?,?,?,?,?,?)\";\n        try {\n            PreparedStatement ps \u003d WebSession.getConnection(s).prepareStatement(query);\n            ps.setString(1, employee.getFirstName().toLowerCase());\n            ps.setString(2, employee.getLastName());\n            ps.setString(3, employee.getSsn());\n            ps.setString(4, employee.getTitle());\n            ps.setString(5, employee.getPhoneNumber());\n            ps.setString(6, employee.getAddress1());\n            ps.setString(7, employee.getAddress2());\n            ps.setInt(8, employee.getManager());\n            ps.setString(9, employee.getStartDate());\n            ps.setString(10, employee.getCcn());\n            ps.setInt(11, employee.getCcnLimit());\n            ps.setString(12, employee.getDisciplinaryActionDate());\n            ps.setString(13, employee.getDisciplinaryActionNotes());\n            ps.setString(14, employee.getPersonalDescription());\n            ps.execute();\n        } catch (SQLException sqle) {\n            s.setMessage(\"Error updating employee profile\");\n            sqle.printStackTrace();\n        }\n    } catch (Exception e) {\n        s.setMessage(\"Error updating employee profile\");\n        e.printStackTrace();\n    }\n}","loc":{"start":{"line":309},"end":{"line":349}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"validate"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":359},"end":{"line":359}}},"typarams":[],"params":[{"type":"Identifier","name":"parameter","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":359},"end":{"line":359}}}},{"type":"Identifier","name":"pattern","vartype":{"type":"Identifier","name":"Pattern","loc":{"start":{"line":359},"end":{"line":359}}}}],"thrown":[{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":359},"end":{"line":359}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"matcher","vartype":{"type":"Identifier","name":"Matcher","loc":{"start":{"line":361},"end":{"line":361}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Matcher","loc":{"start":{"line":361},"end":{"line":361}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pattern","loc":{"start":{"line":361},"end":{"line":361}}},"property":{"type":"Identifier","name":"matcher"},"loc":{"start":{"line":361},"end":{"line":361}}},"arguments":[{"type":"Identifier","name":"parameter","loc":{"start":{"line":361},"end":{"line":361}}}],"loc":{"start":{"line":361},"end":{"line":361}}},"loc":{"start":{"line":361},"end":{"line":361}}},{"type":"IfStatement","test":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"matcher","loc":{"start":{"line":362},"end":{"line":362}}},"property":{"type":"Identifier","name":"matches"},"loc":{"start":{"line":362},"end":{"line":362}}},"arguments":[],"loc":{"start":{"line":362},"end":{"line":362}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":362},"end":{"line":362}}},"consequent":{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ValidationException","loc":{"start":{"line":362},"end":{"line":362}}},"arguments":[],"loc":{"start":{"line":362},"end":{"line":362}}},"loc":{"start":{"line":362},"end":{"line":362}}},"loc":{"start":{"line":362},"end":{"line":362}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"parameter","loc":{"start":{"line":364},"end":{"line":364}}},"loc":{"start":{"line":364},"end":{"line":364}}}],"loc":{"start":{"line":360},"end":{"line":365}}},"code":"\nprotected String validate(final String parameter, final Pattern pattern) throws ValidationException {\n    Matcher matcher \u003d pattern.matcher(parameter);\n    if (!matcher.matches()) throw new ValidationException();\n    return parameter;\n}","loc":{"start":{"line":359},"end":{"line":365}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getNextUID"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":367},"end":{"line":367}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"uid","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":-1,"raw":-1},"loc":{"start":{"line":369},"end":{"line":369}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":377},"end":{"line":377}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":379},"end":{"line":379}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":379},"end":{"line":379}}},"arguments":[],"loc":{"start":{"line":379},"end":{"line":379}}},"loc":{"start":{"line":379},"end":{"line":379}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":380},"end":{"line":380}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":380},"end":{"line":380}}},"arguments":[{"type":"Literal","value":"Error updating employee profile","raw":"Error updating employee profile"}],"loc":{"start":{"line":380},"end":{"line":380}}},"loc":{"start":{"line":380},"end":{"line":380}}}],"loc":{"start":{"line":378},"end":{"line":381}}},"loc":{"start":{"line":377},"end":{"line":381}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"statement","vartype":{"type":"Identifier","name":"Statement","loc":{"start":{"line":372},"end":{"line":372}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Statement","loc":{"start":{"line":372},"end":{"line":372}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":372},"end":{"line":372}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":372},"end":{"line":372}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":372},"end":{"line":372}}}],"loc":{"start":{"line":372},"end":{"line":372}}},"property":{"type":"Identifier","name":"createStatement"},"loc":{"start":{"line":372},"end":{"line":372}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":372},"end":{"line":372}}},"property":{"type":"Identifier","name":"TYPE_SCROLL_INSENSITIVE"},"loc":{"start":{"line":372},"end":{"line":372}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":373},"end":{"line":373}}},"property":{"type":"Identifier","name":"CONCUR_READ_ONLY"},"loc":{"start":{"line":373},"end":{"line":373}}}],"loc":{"start":{"line":372},"end":{"line":373}}},"loc":{"start":{"line":372},"end":{"line":373}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"results","vartype":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":374},"end":{"line":374}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":374},"end":{"line":374}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"statement","loc":{"start":{"line":374},"end":{"line":374}}},"property":{"type":"Identifier","name":"executeQuery"},"loc":{"start":{"line":374},"end":{"line":374}}},"arguments":[{"type":"Literal","value":"select max(userid) as uid from employee","raw":"select max(userid) as uid from employee"}],"loc":{"start":{"line":374},"end":{"line":374}}},"loc":{"start":{"line":374},"end":{"line":374}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":375},"end":{"line":375}}},"property":{"type":"Identifier","name":"first"},"loc":{"start":{"line":375},"end":{"line":375}}},"arguments":[],"loc":{"start":{"line":375},"end":{"line":375}}},"loc":{"start":{"line":375},"end":{"line":375}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"uid","loc":{"start":{"line":376},"end":{"line":376}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":376},"end":{"line":376}}},"property":{"type":"Identifier","name":"getInt"},"loc":{"start":{"line":376},"end":{"line":376}}},"arguments":[{"type":"Literal","value":"uid","raw":"uid"}],"loc":{"start":{"line":376},"end":{"line":376}}},"loc":{"start":{"line":376},"end":{"line":376}}},"loc":{"start":{"line":376},"end":{"line":376}}}],"loc":{"start":{"line":371},"end":{"line":377}}},"loc":{"start":{"line":370},"end":{"line":381}}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"uid","loc":{"start":{"line":382},"end":{"line":382}}},"right":{"type":"Literal","value":1,"raw":1},"loc":{"start":{"line":382},"end":{"line":382}}},"loc":{"start":{"line":382},"end":{"line":382}}}],"loc":{"start":{"line":368},"end":{"line":383}}},"code":"\nprivate int getNextUID(WebSession s) {\n    int uid \u003d -1;\n    try {\n        Statement statement \u003d WebSession.getConnection(s).createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\n        ResultSet results \u003d statement.executeQuery(\"select max(userid) as uid from employee\");\n        results.first();\n        uid \u003d results.getInt(\"uid\");\n    } catch (SQLException sqle) {\n        sqle.printStackTrace();\n        s.setMessage(\"Error updating employee profile\");\n    }\n    return uid + 1;\n}","loc":{"start":{"line":367},"end":{"line":383}}}],"loc":{"start":{"line":50},"end":{"line":384}}}],"loc":{"start":{"line":2},"end":{"line":384}},"sourcefile":"/Users/gli/codiscope/jacks.engine/WebGoat-5.4/WEB-INF/classes/org/owasp/webgoat/lessons/CrossSiteScripting/UpdateProfile.java"}