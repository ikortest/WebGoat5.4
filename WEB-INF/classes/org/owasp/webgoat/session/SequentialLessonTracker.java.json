{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":2},"end":{"line":2}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":2},"end":{"line":2}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":4},"end":{"line":4}}},"property":{"type":"Identifier","name":"Properties"},"loc":{"start":{"line":4},"end":{"line":4}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"SequentialLessonTracker"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"extending":{"type":"Identifier","name":"LessonTracker","loc":{"start":{"line":7},"end":{"line":7}}},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currentStage","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":1,"raw":1},"loc":{"start":{"line":10},"end":{"line":10}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getStage"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"currentStage","loc":{"start":{"line":14},"end":{"line":14}}},"loc":{"start":{"line":14},"end":{"line":14}}}],"loc":{"start":{"line":13},"end":{"line":15}}},"code":"\npublic int getStage() {\n    return currentStage;\n}","loc":{"start":{"line":12},"end":{"line":15}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setStage"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"stage","vartype":{"type":"PrimitiveType"}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"currentStage","loc":{"start":{"line":19},"end":{"line":19}}},"right":{"type":"Identifier","name":"stage","loc":{"start":{"line":19},"end":{"line":19}}},"loc":{"start":{"line":19},"end":{"line":19}}},"loc":{"start":{"line":19},"end":{"line":19}}}],"loc":{"start":{"line":18},"end":{"line":20}}},"code":"\npublic void setStage(int stage) {\n    currentStage \u003d stage;\n}","loc":{"start":{"line":17},"end":{"line":20}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"setProperties"},"modifiers":{"type":"Modifiers","modifiers":["protected"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"props","vartype":{"type":"Identifier","name":"Properties","loc":{"start":{"line":22},"end":{"line":22}}}},{"type":"Identifier","name":"screen","vartype":{"type":"Identifier","name":"Screen","loc":{"start":{"line":22},"end":{"line":22}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"super","loc":{"start":{"line":24},"end":{"line":24}}},"property":{"type":"Identifier","name":"setProperties"},"loc":{"start":{"line":24},"end":{"line":24}}},"arguments":[{"type":"Identifier","name":"props","loc":{"start":{"line":24},"end":{"line":24}}},{"type":"Identifier","name":"screen","loc":{"start":{"line":24},"end":{"line":24}}}],"loc":{"start":{"line":24},"end":{"line":24}}},"loc":{"start":{"line":24},"end":{"line":24}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"currentStage","loc":{"start":{"line":25},"end":{"line":25}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":25},"end":{"line":25}}},"property":{"type":"Identifier","name":"parseInt"},"loc":{"start":{"line":25},"end":{"line":25}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"props","loc":{"start":{"line":25},"end":{"line":25}}},"property":{"type":"Identifier","name":"getProperty"},"loc":{"start":{"line":25},"end":{"line":25}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"screen","loc":{"start":{"line":25},"end":{"line":25}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":25},"end":{"line":25}}},"arguments":[],"loc":{"start":{"line":25},"end":{"line":25}}},"right":{"type":"Literal","value":".currentStage","raw":".currentStage"},"loc":{"start":{"line":25},"end":{"line":25}}}],"loc":{"start":{"line":25},"end":{"line":25}}}],"loc":{"start":{"line":25},"end":{"line":25}}},"loc":{"start":{"line":25},"end":{"line":25}}},"loc":{"start":{"line":25},"end":{"line":25}}}],"loc":{"start":{"line":23},"end":{"line":26}}},"code":"\nprotected void setProperties(Properties props, Screen screen) {\n    super.setProperties(props, screen);\n    currentStage \u003d Integer.parseInt(props.getProperty(screen.getTitle() + \".currentStage\"));\n}","loc":{"start":{"line":22},"end":{"line":26}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"store"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":28},"end":{"line":28}}}},{"type":"Identifier","name":"screen","vartype":{"type":"Identifier","name":"Screen","loc":{"start":{"line":28},"end":{"line":28}}}},{"type":"Identifier","name":"user","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":28},"end":{"line":28}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonProperties","loc":{"start":{"line":30},"end":{"line":30}}},"property":{"type":"Identifier","name":"setProperty"},"loc":{"start":{"line":30},"end":{"line":30}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"screen","loc":{"start":{"line":30},"end":{"line":30}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":30},"end":{"line":30}}},"arguments":[],"loc":{"start":{"line":30},"end":{"line":30}}},"right":{"type":"Literal","value":".currentStage","raw":".currentStage"},"loc":{"start":{"line":30},"end":{"line":30}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Integer","loc":{"start":{"line":30},"end":{"line":30}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":30},"end":{"line":30}}},"arguments":[{"type":"Identifier","name":"currentStage","loc":{"start":{"line":30},"end":{"line":30}}}],"loc":{"start":{"line":30},"end":{"line":30}}}],"loc":{"start":{"line":30},"end":{"line":30}}},"loc":{"start":{"line":30},"end":{"line":30}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"super","loc":{"start":{"line":31},"end":{"line":31}}},"property":{"type":"Identifier","name":"store"},"loc":{"start":{"line":31},"end":{"line":31}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":31},"end":{"line":31}}},{"type":"Identifier","name":"screen","loc":{"start":{"line":31},"end":{"line":31}}},{"type":"Identifier","name":"user","loc":{"start":{"line":31},"end":{"line":31}}}],"loc":{"start":{"line":31},"end":{"line":31}}},"loc":{"start":{"line":31},"end":{"line":31}}}],"loc":{"start":{"line":29},"end":{"line":32}}},"code":"\npublic void store(WebSession s, Screen screen, String user) {\n    lessonProperties.setProperty(screen.getTitle() + \".currentStage\", Integer.toString(currentStage));\n    super.store(s, screen, user);\n}","loc":{"start":{"line":28},"end":{"line":32}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"toString"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":34},"end":{"line":34}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"super","loc":{"start":{"line":36},"end":{"line":36}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":36},"end":{"line":36}}},"arguments":[],"loc":{"start":{"line":36},"end":{"line":36}}},"right":{"type":"Literal","value":"    - currentStage:....... ","raw":"    - currentStage:....... "},"loc":{"start":{"line":36},"end":{"line":36}}},"right":{"type":"Identifier","name":"currentStage","loc":{"start":{"line":36},"end":{"line":36}}},"loc":{"start":{"line":36},"end":{"line":36}}},"right":{"type":"Literal","value":"\n","raw":"\n"},"loc":{"start":{"line":36},"end":{"line":36}}},"loc":{"start":{"line":36},"end":{"line":36}}}],"loc":{"start":{"line":35},"end":{"line":37}}},"code":"\npublic String toString() {\n    return super.toString() + \"    - currentStage:....... \" + currentStage + \"\\n\";\n}","loc":{"start":{"line":34},"end":{"line":37}}}],"loc":{"start":{"line":7},"end":{"line":38}}}],"loc":{"start":{"line":2},"end":{"line":38}},"sourcefile":"/Users/gli/codiscope/jacks.engine/WebGoat-5.4/WEB-INF/classes/org/owasp/webgoat/session/SequentialLessonTracker.java"}